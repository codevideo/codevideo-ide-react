/*! For license information please see commons-dfcc403731aa87a79d64.js.LICENSE.txt */
(self.webpackChunkcodevideo_ide_react_examples=self.webpackChunkcodevideo_ide_react_examples||[]).push([[351],{3967:function(e,t){var r;!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var e="",t=0;t<arguments.length;t++){var r=arguments[t];r&&(e=s(e,o(r)))}return e}function o(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return i.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var r in e)n.call(e,r)&&e[r]&&(t=s(t,r));return t}function s(e,t){return t?e?e+" "+t:e+t:e}e.exports?(i.default=i,e.exports=i):void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r)}()},8335:function(e,t,r){"use strict";r.d(t,{Z:function(){return jt}});var n=r(5893),i=r(7294);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e){return function t(){for(var r=this,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return i.length>=e.length?e.apply(this,i):function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return t.apply(r,[].concat(i,n))}}}function f(e){return{}.toString.call(e).includes("Object")}function g(e){return"function"==typeof e}var m=p((function(e,t){throw new Error(e[t]||e.default)}))({initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"}),v={changes:function(e,t){return f(t)||m("changeType"),Object.keys(t).some((function(t){return r=e,n=t,!Object.prototype.hasOwnProperty.call(r,n);var r,n}))&&m("changeField"),t},selector:function(e){g(e)||m("selectorType")},handler:function(e){g(e)||f(e)||m("handlerType"),f(e)&&Object.values(e).some((function(e){return!g(e)}))&&m("handlersType")},initial:function(e){var t;e||m("initialIsRequired"),f(e)||m("initialType"),t=e,Object.keys(t).length||m("initialContent")}};function y(e,t){return g(t)?t(e.current):t}function w(e,t){return e.current=d(d({},e.current),t),t}function x(e,t,r){return g(t)?t(e.current):Object.keys(r).forEach((function(r){var n;return null===(n=t[r])||void 0===n?void 0:n.call(t,e.current[r])})),r}var b={create:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};v.initial(e),v.handler(t);var r={current:e},n=p(x)(r,t),i=p(w)(r),o=p(v.changes)(e),s=p(y)(r);return[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e};return v.selector(e),e(r.current)},function(e){!function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return t.reduceRight((function(e,t){return t(e)}),e)}}(n,i,o,s)(e)}]}},C=b,E={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.52.2/min/vs"}};var P=function(e){return function t(){for(var r=this,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return i.length>=e.length?e.apply(this,i):function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return t.apply(r,[].concat(i,n))}}};var R=function(e){return{}.toString.call(e).includes("Object")};var j={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:"Deprecation warning!\n    You are using deprecated way of configuration.\n\n    Instead of using\n      monaco.config({ urls: { monacoBase: '...' } })\n    use\n      monaco.config({ paths: { vs: '...' } })\n\n    For more please check the link https://github.com/suren-atoyan/monaco-loader#config\n  "},S=P((function(e,t){throw new Error(e[t]||e.default)}))(j),k={config:function(e){return e||S("configIsRequired"),R(e)||S("configType"),e.urls?(console.warn(j.deprecation),{paths:{vs:e.urls.monacoBase}}):e}},A=k,L=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return t.reduceRight((function(e,t){return t(e)}),e)}};var O=function e(t,r){return Object.keys(r).forEach((function(n){r[n]instanceof Object&&t[n]&&Object.assign(r[n],e(t[n],r[n]))})),a(a({},t),r)},T={type:"cancelation",msg:"operation is manually canceled"};var D,N,M=function(e){var t=!1,r=new Promise((function(r,n){e.then((function(e){return t?n(T):r(e)})),e.catch(n)}));return r.cancel=function(){return t=!0},r},$=C.create({config:E,isInitialized:!1,resolve:null,reject:null,monaco:null}),I=(N=2,function(e){if(Array.isArray(e))return e}(D=$)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(l){i=!0,o=l}finally{try{n||null==a.return||a.return()}finally{if(i)throw o}}return r}}(D,N)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,t):void 0}}(D,N)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),F=I[0],H=I[1];function B(e){return document.body.appendChild(e)}function V(e){var t,r,n=F((function(e){return{config:e.config,reject:e.reject}})),i=(t="".concat(n.config.paths.vs,"/loader.js"),r=document.createElement("script"),t&&(r.src=t),r);return i.onload=function(){return e()},i.onerror=n.reject,i}function z(){var e=F((function(e){return{config:e.config,resolve:e.resolve,reject:e.reject}})),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],(function(t){W(t),e.resolve(t)}),(function(t){e.reject(t)}))}function W(e){F().monaco||H({monaco:e})}var _=new Promise((function(e,t){return H({resolve:e,reject:t})})),U={config:function(e){var t=A.config(e),r=t.monaco,n=l(t,["monaco"]);H((function(e){return{config:O(e.config,n),monaco:r}}))},init:function(){var e=F((function(e){return{monaco:e.monaco,isInitialized:e.isInitialized,resolve:e.resolve}}));if(!e.isInitialized){if(H({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),M(_);if(window.monaco&&window.monaco.editor)return W(window.monaco),e.resolve(window.monaco),M(_);L(B,V)(z)}return M(_)},__getMonacoInstance:function(){return F((function(e){return e.monaco}))}},q=U,X={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},Y={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}};var G=function({children:e}){return i.createElement("div",{style:Y.container},e)},Z=G;var K=function({width:e,height:t,isEditorReady:r,loading:n,_ref:o,className:s,wrapperProps:a}){return i.createElement("section",{style:{...X.wrapper,width:e,height:t},...a},!r&&i.createElement(Z,null,n),i.createElement("div",{ref:o,style:{...X.fullWidth,...!r&&X.hide},className:s}))},J=(0,i.memo)(K);var Q=function(e){(0,i.useEffect)(e,[])};var ee=function(e,t,r=!0){let n=(0,i.useRef)(!0);(0,i.useEffect)(n.current||!r?()=>{n.current=!1}:e,t)};function te(){}function re(e,t,r,n){return function(e,t){return e.editor.getModel(ne(e,t))}(e,n)||function(e,t,r,n){return e.editor.createModel(t,r,n?ne(e,n):void 0)}(e,t,r,n)}function ne(e,t){return e.Uri.parse(t)}var ie=function({original:e,modified:t,language:r,originalLanguage:n,modifiedLanguage:o,originalModelPath:s,modifiedModelPath:a,keepCurrentOriginalModel:l=!1,keepCurrentModifiedModel:c=!1,theme:u="light",loading:h="Loading...",options:d={},height:p="100%",width:f="100%",className:g,wrapperProps:m={},beforeMount:v=te,onMount:y=te}){let[w,x]=(0,i.useState)(!1),[b,C]=(0,i.useState)(!0),E=(0,i.useRef)(null),P=(0,i.useRef)(null),R=(0,i.useRef)(null),j=(0,i.useRef)(y),S=(0,i.useRef)(v),k=(0,i.useRef)(!1);Q((()=>{let e=q.init();return e.then((e=>(P.current=e)&&C(!1))).catch((e=>"cancelation"!==e?.type&&console.error("Monaco initialization: error:",e))),()=>E.current?function(){let e=E.current?.getModel();l||e?.original?.dispose(),c||e?.modified?.dispose(),E.current?.dispose()}():e.cancel()})),ee((()=>{if(E.current&&P.current){let t=E.current.getOriginalEditor(),i=re(P.current,e||"",n||r||"text",s||"");i!==t.getModel()&&t.setModel(i)}}),[s],w),ee((()=>{if(E.current&&P.current){let e=E.current.getModifiedEditor(),n=re(P.current,t||"",o||r||"text",a||"");n!==e.getModel()&&e.setModel(n)}}),[a],w),ee((()=>{let e=E.current.getModifiedEditor();e.getOption(P.current.editor.EditorOption.readOnly)?e.setValue(t||""):t!==e.getValue()&&(e.executeEdits("",[{range:e.getModel().getFullModelRange(),text:t||"",forceMoveMarkers:!0}]),e.pushUndoStop())}),[t],w),ee((()=>{E.current?.getModel()?.original.setValue(e||"")}),[e],w),ee((()=>{let{original:e,modified:t}=E.current.getModel();P.current.editor.setModelLanguage(e,n||r||"text"),P.current.editor.setModelLanguage(t,o||r||"text")}),[r,n,o],w),ee((()=>{P.current?.editor.setTheme(u)}),[u],w),ee((()=>{E.current?.updateOptions(d)}),[d],w);let A=(0,i.useCallback)((()=>{if(!P.current)return;S.current(P.current);let i=re(P.current,e||"",n||r||"text",s||""),l=re(P.current,t||"",o||r||"text",a||"");E.current?.setModel({original:i,modified:l})}),[r,t,o,e,n,s,a]),L=(0,i.useCallback)((()=>{!k.current&&R.current&&(E.current=P.current.editor.createDiffEditor(R.current,{automaticLayout:!0,...d}),A(),P.current?.editor.setTheme(u),x(!0),k.current=!0)}),[d,u,A]);return(0,i.useEffect)((()=>{w&&j.current(E.current,P.current)}),[w]),(0,i.useEffect)((()=>{!b&&!w&&L()}),[b,w,L]),i.createElement(J,{width:f,height:p,isEditorReady:w,loading:h,_ref:R,className:g,wrapperProps:m})};(0,i.memo)(ie);var oe=function(e){let t=(0,i.useRef)();return(0,i.useEffect)((()=>{t.current=e}),[e]),t.current},se=new Map;var ae=function({defaultValue:e,defaultLanguage:t,defaultPath:r,value:n,language:o,path:s,theme:a="light",line:l,loading:c="Loading...",options:u={},overrideServices:h={},saveViewState:d=!0,keepCurrentModel:p=!1,width:f="100%",height:g="100%",className:m,wrapperProps:v={},beforeMount:y=te,onMount:w=te,onChange:x,onValidate:b=te}){let[C,E]=(0,i.useState)(!1),[P,R]=(0,i.useState)(!0),j=(0,i.useRef)(null),S=(0,i.useRef)(null),k=(0,i.useRef)(null),A=(0,i.useRef)(w),L=(0,i.useRef)(y),O=(0,i.useRef)(),T=(0,i.useRef)(n),D=oe(s),N=(0,i.useRef)(!1),M=(0,i.useRef)(!1);Q((()=>{let e=q.init();return e.then((e=>(j.current=e)&&R(!1))).catch((e=>"cancelation"!==e?.type&&console.error("Monaco initialization: error:",e))),()=>S.current?(O.current?.dispose(),p?d&&se.set(s,S.current.saveViewState()):S.current.getModel()?.dispose(),void S.current.dispose()):e.cancel()})),ee((()=>{let i=re(j.current,e||n||"",t||o||"",s||r||"");i!==S.current?.getModel()&&(d&&se.set(D,S.current?.saveViewState()),S.current?.setModel(i),d&&S.current?.restoreViewState(se.get(s)))}),[s],C),ee((()=>{S.current?.updateOptions(u)}),[u],C),ee((()=>{!S.current||void 0===n||(S.current.getOption(j.current.editor.EditorOption.readOnly)?S.current.setValue(n):n!==S.current.getValue()&&(M.current=!0,S.current.executeEdits("",[{range:S.current.getModel().getFullModelRange(),text:n,forceMoveMarkers:!0}]),S.current.pushUndoStop(),M.current=!1))}),[n],C),ee((()=>{let e=S.current?.getModel();e&&o&&j.current?.editor.setModelLanguage(e,o)}),[o],C),ee((()=>{void 0!==l&&S.current?.revealLine(l)}),[l],C),ee((()=>{j.current?.editor.setTheme(a)}),[a],C);let $=(0,i.useCallback)((()=>{if(k.current&&j.current&&!N.current){L.current(j.current);let i=s||r,c=re(j.current,n||e||"",t||o||"",i||"");S.current=j.current?.editor.create(k.current,{model:c,automaticLayout:!0,...u},h),d&&S.current.restoreViewState(se.get(i)),j.current.editor.setTheme(a),void 0!==l&&S.current.revealLine(l),E(!0),N.current=!0}}),[e,t,r,n,o,s,u,h,d,a,l]);return(0,i.useEffect)((()=>{C&&A.current(S.current,j.current)}),[C]),(0,i.useEffect)((()=>{!P&&!C&&$()}),[P,C,$]),T.current=n,(0,i.useEffect)((()=>{C&&x&&(O.current?.dispose(),O.current=S.current?.onDidChangeModelContent((e=>{M.current||x(S.current.getValue(),e)})))}),[C,x]),(0,i.useEffect)((()=>{if(C){let e=j.current.editor.onDidChangeMarkers((e=>{let t=S.current.getModel()?.uri;if(t&&e.find((e=>e.path===t.path))){let e=j.current.editor.getModelMarkers({resource:t});b?.(e)}}));return()=>{e?.dispose()}}return()=>{}}),[C,b]),i.createElement(J,{width:f,height:g,isEditorReady:C,loading:c,_ref:k,className:m,wrapperProps:v})},le=(0,i.memo)(ae),ce=r(5564),ue=r(3477),he=r(3967),de=r(8426),pe=r(3928),fe=r(5638),ge=r(407),me=r(582);const ve={trim:{type:"enum",className:"rt-r-lt",values:["normal","start","end","both"],responsive:!0}},ye={align:{type:"enum",className:"rt-r-ta",values:["left","center","right"],responsive:!0}},we={wrap:{type:"enum",className:"rt-r-tw",values:["wrap","nowrap","pretty","balance"],responsive:!0}},xe={weight:{type:"enum",className:"rt-r-weight",values:["light","regular","medium","bold"],responsive:!0}},be={as:{type:"enum",values:["span","div","label","p"],default:"span"},...ge.C,size:{type:"enum",className:"rt-r-size",values:["1","2","3","4","5","6","7","8","9"],responsive:!0},...xe,...ye,...ve,truncate:{type:"boolean",className:"rt-truncate"},...we,...me.EG,highContrast:{type:"boolean",className:"rt-high-contrast",default:void 0}},Ce=i.forwardRef(((e,t)=>{const{children:r,className:n,asChild:o,as:s="span",color:a,...l}=(0,pe.y)(e,be,fe.E);return i.createElement(de.fC,{"data-accent-color":a,...l,ref:t,className:he("rt-Text",n)},o?r:i.createElement(s,null,r))}));Ce.displayName="Text";const Ee=["author-speak-before","author-speak-after","author-speak-during","author-wait","editor-type","editor-save","editor-arrow-up","editor-arrow-down","editor-arrow-left","editor-arrow-right","editor-enter","editor-tab","editor-shift+arrow-left","editor-shift+arrow-right","editor-shift+arrow-down","editor-shift+arrow-up","editor-cmd+d","editor-backspace","editor-space","editor-highlight-code","editor-delete-line","editor-command-left","editor-command-right","editor-command-d","editor-command-c","editor-command-v","editor-shift-down-arrow","editor-shift-up-arrow","mouse-click-filename","mouse-click-terminal","mouse-click-editor","file-explorer-set-present-working-directory","file-explorer-set-file-contents","file-explorer-create-file","file-explorer-open-file","file-explorer-close-file","file-explorer-rename-file","file-explorer-delete-file","file-explorer-move-file","file-explorer-copy-file","file-explorer-create-folder","file-explorer-expand-folder","file-explorer-collapse-folder","file-explorer-rename-folder","file-explorer-delete-folder","file-explorer-toggle-folder","file-explorer-move-folder","file-explorer-copy-folder","terminal-open","terminal-type","terminal-arrow-up","terminal-arrow-down","terminal-arrow-left","terminal-arrow-right","terminal-enter","terminal-output","terminal-tab","terminal-shift+arrow-right","terminal-shift+arrow-left","terminal-backspace","terminal-space","terminal-command-left","terminal-command-right","terminal-command-c","terminal-command-v","terminal-set-output","terminal-set-prompt","terminal-set-present-working-directory","external-browser"],Pe="_____",Re=["file-explorer-rename-file","file-explorer-rename-folder","file-explorer-move-file","file-explorer-move-folder","file-explorer-copy-file","file-explorer-copy-folder","file-explorer-set-file-contents"],je=e=>void 0!==e.actions,Se=e=>void 0!==e.lessons,ke=e=>!(e&&Re.includes(e.name)&&!e.value.includes(Pe))&&(e&&Ee.includes(e.name)&&e.value),Ae=e=>Array.isArray(e)&&e.every((e=>(ke(e)||console.log("Invalid action:",e),ke(e)))),Le=(e,t)=>{var r;return Se(e)&&e.lessons&&null!==t&&-1!==t?(null===(r=e.lessons[t])||void 0===r?void 0:r.actions)||[]:je(e)?e.actions:Ae(e)?e:[]},Oe=e=>e.name.startsWith("editor-"),Te=e=>e.name.startsWith("terminal-"),De=e=>!e.name.includes("type")&&!e.name.includes("speak")&&!e.name.includes("file-explorer"),Ne=e=>e.name.startsWith("author-"),Me=e=>e.name.startsWith("file-explorer-");var $e=e=>(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e,{children:(0,n.jsx)("path",{stroke:"#71717A",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6.778 8.519L3 12.297l3.778 3.779M17.222 8.519L21 12.297l-3.778 3.779M9.271 18.595L14.73 6"})}));var Ie=e=>(0,n.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 25 24"},e,{children:[(0,n.jsx)("g",{fill:"#60A5FA",clipPath:"url(#clip0_20556_569)",children:(0,n.jsx)("path",{d:"M16.633 14.185v-4.37h1.105v4.37h-1.105zM15 12.552v-1.104h4.37v1.104H15zM21.599 14.185v-4.37h1.105v4.37h-1.105zm-1.633-1.633v-1.104h4.37v1.104h-4.37zM14.6 9.938h-2.49a2.436 2.436 0 00-.278-.858c-.14-.254-.32-.47-.54-.648a2.375 2.375 0 00-.761-.41 2.912 2.912 0 00-.926-.141c-.602 0-1.127.15-1.574.449-.447.295-.794.727-1.04 1.295-.246.564-.37 1.25-.37 2.057 0 .83.124 1.526.37 2.09.25.565.599.991 1.046 1.28.447.287.964.431 1.55.431.33 0 .635-.044.916-.13.284-.088.536-.215.755-.381.22-.17.402-.377.546-.62.147-.242.25-.519.307-.83l2.488.012a4.642 4.642 0 01-1.511 2.87 4.84 4.84 0 01-1.534.92c-.591.223-1.26.335-2.006.335-1.038 0-1.966-.235-2.784-.704-.814-.47-1.458-1.15-1.932-2.04-.47-.89-.704-1.968-.704-3.233 0-1.27.238-2.349.716-3.239.477-.89 1.125-1.568 1.943-2.034.818-.47 1.738-.704 2.761-.704.674 0 1.3.094 1.875.284.58.189 1.093.466 1.54.83.447.359.81.8 1.09 1.323.285.523.467 1.121.546 1.796z"})}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"clip0_20556_569",children:(0,n.jsx)("path",{fill:"#fff",d:"M0 0H24V24H0z",transform:"translate(.336)"})})})]}));var Fe=e=>(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e,{children:(0,n.jsx)("path",{fill:"#14B8A6",d:"M15.263 9.938h-2.489a2.432 2.432 0 00-.278-.858c-.14-.254-.32-.47-.54-.648a2.375 2.375 0 00-.761-.41 2.912 2.912 0 00-.927-.141c-.602 0-1.126.15-1.573.449-.447.295-.794.727-1.04 1.295-.246.564-.37 1.25-.37 2.057 0 .83.124 1.526.37 2.09.25.565.598.991 1.045 1.28.447.287.964.431 1.551.431.33 0 .635-.044.915-.13.284-.088.536-.215.756-.381.22-.17.401-.377.545-.62.148-.242.25-.519.307-.83l2.489.012a4.643 4.643 0 01-1.511 2.87 4.84 4.84 0 01-1.535.92c-.59.223-1.26.335-2.005.335-1.038 0-1.966-.235-2.784-.704-.815-.47-1.459-1.15-1.932-2.04-.47-.89-.705-1.968-.705-3.233 0-1.27.239-2.349.716-3.239.477-.89 1.125-1.568 1.943-2.034.818-.47 1.739-.704 2.762-.704.674 0 1.299.094 1.875.284.58.189 1.093.466 1.54.83.446.359.81.8 1.09 1.323.284.523.466 1.121.546 1.796zM20.273 16.47l1.466-8.94h1.397l-1.467 8.94h-1.396zm-4.003-2.218l.232-1.397h6.983l-.231 1.397H16.27zm.86 2.217l1.467-8.938h1.396l-1.466 8.938H17.13zm-.349-5.325l.236-1.396H24l-.236 1.397h-6.983z"})}));var He=e=>(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e,{children:(0,n.jsx)("path",{fill:"#64748B",d:"M5.939 5.37a3.763 3.763 0 01-2.712 4.696l-1.099.272a10.777 10.777 0 00.012 3.4l1.015.244a3.763 3.763 0 012.728 4.723l-.35 1.187a9.936 9.936 0 002.792 1.734l.928-.976a3.763 3.763 0 015.454.001l.938.987a9.937 9.937 0 002.79-1.717l-.373-1.29a3.763 3.763 0 012.712-4.697l1.098-.271a10.774 10.774 0 00-.012-3.4l-1.014-.245a3.763 3.763 0 01-2.728-4.723l.35-1.186a9.929 9.929 0 00-2.792-1.735l-.928.976a3.762 3.762 0 01-5.454-.001l-.938-.987a9.932 9.932 0 00-2.79 1.717l.373 1.29zM12 14.822c-1.506 0-2.727-1.263-2.727-2.822 0-1.558 1.22-2.822 2.727-2.822 1.506 0 2.727 1.264 2.727 2.822 0 1.559-1.22 2.822-2.727 2.822z"})}));var Be=e=>(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e,{children:(0,n.jsx)("path",{fill:"#F87171",d:"M20.661 11.198l-7.86-7.859a1.159 1.159 0 00-1.639 0L9.53 4.972l2.07 2.07a1.376 1.376 0 011.744 1.755l1.995 1.995a1.377 1.377 0 011.425 2.278 1.38 1.38 0 01-2.251-1.5l-1.86-1.861-.001 4.897a1.38 1.38 0 11-1.134-.04V9.623a1.379 1.379 0 01-.749-1.809l-2.04-2.04-5.39 5.388a1.16 1.16 0 000 1.64l7.86 7.858a1.16 1.16 0 001.64 0l7.822-7.821a1.16 1.16 0 000-1.64"})}));var Ve=e=>(0,n.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 25 24"},e,{children:[(0,n.jsxs)("g",{fill:"#60A5FA",clipPath:"url(#clip0_20558_611)",children:[(0,n.jsx)("path",{fillRule:"evenodd",d:"M1.878 9.794c-.046 0-.058-.023-.035-.058l.244-.313c.023-.035.081-.058.127-.058h4.14c.046 0 .058.035.034.07l-.197.301c-.023.035-.08.07-.116.07l-4.197-.012zM.128 10.86c-.047 0-.058-.022-.035-.057l.243-.313c.023-.035.081-.058.128-.058H5.75c.046 0 .07.035.058.07l-.093.278c-.012.046-.058.07-.104.07l-5.484.01zM2.933 11.928c-.046 0-.058-.035-.034-.07l.162-.29c.023-.035.07-.07.116-.07h2.319c.046 0 .07.035.07.082l-.024.278c0 .046-.046.081-.081.081l-2.528-.011zM14.968 9.585c-.73.186-1.229.325-1.948.51-.174.047-.185.059-.336-.115-.174-.197-.301-.325-.545-.44-.73-.36-1.438-.256-2.098.173-.789.51-1.195 1.264-1.183 2.203.012.928.65 1.693 1.565 1.82.789.105 1.45-.174 1.971-.765.104-.127.197-.267.313-.429H10.47c-.243 0-.3-.15-.22-.348.151-.36.43-.962.592-1.264a.313.313 0 01.29-.185h4.22c-.024.313-.024.626-.07.939-.127.835-.44 1.6-.95 2.273-.835 1.1-1.925 1.785-3.305 1.97-1.136.151-2.191-.07-3.119-.765-.858-.649-1.345-1.507-1.472-2.574-.151-1.263.22-2.4.985-3.397.823-1.078 1.913-1.762 3.247-2.006 1.09-.197 2.133-.07 3.072.569a3.634 3.634 0 011.345 1.634c.07.105.023.163-.116.197z",clipRule:"evenodd"}),(0,n.jsx)("path",{d:"M18.806 15.997c-1.055-.023-2.018-.325-2.83-1.02a3.636 3.636 0 01-1.251-2.238c-.21-1.31.15-2.47.939-3.501.846-1.113 1.866-1.693 3.246-1.937 1.183-.208 2.296-.092 3.305.592.915.626 1.483 1.472 1.634 2.585.197 1.566-.255 2.84-1.333 3.93-.765.777-1.704 1.264-2.783 1.485-.313.058-.626.07-.927.104zm2.76-4.684c-.012-.15-.012-.267-.036-.383-.208-1.147-1.263-1.797-2.365-1.542-1.078.244-1.774.928-2.029 2.018-.209.904.232 1.82 1.067 2.191.638.278 1.275.244 1.89-.07.916-.475 1.414-1.217 1.472-2.214z"})]}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"clip0_20558_611",children:(0,n.jsx)("path",{fill:"#fff",d:"M0 0H24V24H0z",transform:"translate(.336)"})})})]}));var ze=e=>(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e,{children:(0,n.jsx)("path",{fill:"#F59E0B",d:"M8.383 7.318h2.127v7.1c0 .656-.147 1.226-.442 1.71a2.924 2.924 0 01-1.218 1.118c-.52.262-1.125.393-1.815.393-.613 0-1.17-.107-1.67-.323a2.67 2.67 0 01-1.183-.994c-.292-.448-.436-1.01-.433-1.686h2.143c.006.269.061.5.164.691.106.19.25.335.432.438.186.1.405.15.657.15.265 0 .488-.057.67-.17.186-.116.327-.285.423-.507.096-.222.145-.496.145-.82v-7.1zm9.43 2.928c-.04-.4-.21-.712-.511-.934-.302-.222-.711-.333-1.228-.333-.352 0-.648.05-.89.149-.242.096-.428.23-.557.403a.969.969 0 00-.19.586.838.838 0 00.115.477c.087.136.204.254.353.353.15.097.322.181.517.254.196.07.405.13.627.179l.915.219c.444.1.851.232 1.223.397.37.166.692.37.964.612s.482.527.631.855a2.7 2.7 0 01.234 1.129c-.003.623-.162 1.163-.477 1.62-.312.454-.763.807-1.353 1.06-.586.248-1.294.372-2.122.372-.822 0-1.538-.126-2.148-.378-.607-.252-1.08-.624-1.422-1.118-.338-.497-.515-1.112-.532-1.845h2.083c.023.342.121.627.293.855.176.226.41.397.702.513.295.112.628.168.999.168.364 0 .68-.053.95-.159.271-.106.482-.253.63-.442.15-.189.224-.406.224-.651a.846.846 0 00-.203-.577c-.133-.156-.329-.288-.587-.398a5.964 5.964 0 00-.94-.298l-1.108-.278c-.859-.21-1.537-.536-2.034-.98-.497-.444-.744-1.042-.74-1.795-.004-.616.16-1.155.492-1.615.334-.461.793-.82 1.377-1.08.583-.258 1.246-.387 1.989-.387.755 0 1.415.13 1.978.388.567.258 1.008.618 1.323 1.079.314.46.477.994.487 1.6h-2.063z"})}));var We=e=>(0,n.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e,{children:[(0,n.jsx)("path",{fill:"#64748B",d:"M13.768 10.233l1.768-1.768a5 5 0 100 7.071l-1.768-1.768a2.5 2.5 0 110-3.535z"}),(0,n.jsx)("path",{fill:"#64748B",d:"M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2zm0 17.5a7.5 7.5 0 110-15 7.5 7.5 0 110 15z"})]}));var _e=e=>(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e,{children:(0,n.jsx)("path",{fill:"#60A5FA",d:"M3 15.714V8h2.323l2.322 2.836L9.968 8h2.322v7.714H9.968V11.29l-2.323 2.836-2.322-2.836v4.424H3zm14.516 0l-3.484-3.743h2.323V8h2.322v3.97H21l-3.484 3.744z"})}));var Ue=e=>(0,n.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e,{children:[(0,n.jsx)("path",{fill:"#14B8A6",fillRule:"evenodd",d:"M14.622 21.322c-.6.11-1.284.174-1.999.178a12.52 12.52 0 01-2.179-.178c-1.136-.198-2.092-1.086-2.092-2.269v-4.156c0-1.217.93-2.217 2.092-2.217h4.178c1.418 0 2.613-1.271 2.613-2.712V7.974h1.438c1.216 0 1.926.92 2.223 2.213.401 1.735.384 2.773 0 4.435-.332 1.45-1.398 2.212-2.613 2.212H12.531v.555h4.183v1.664c0 1.26-.322 1.942-2.092 2.269zm-.176-2.837c-.532 0-.963.45-.963 1.005 0 .555.43 1.005.963 1.005.532 0 .963-.45.963-1.005 0-.555-.43-1.005-.963-1.005z",clipRule:"evenodd"}),(0,n.jsx)("path",{fill:"#14B8A6",fillRule:"evenodd",d:"M9.378 2.678c.6-.11 1.284-.174 1.999-.178.715-.003 1.46.053 2.179.178 1.136.198 2.092 1.086 2.092 2.269v4.156c0 1.217-.93 2.217-2.092 2.217H9.378c-1.418 0-2.613 1.271-2.613 2.712v1.994H5.327c-1.216 0-1.926-.92-2.223-2.213-.401-1.735-.384-2.773 0-4.435.332-1.45 1.397-2.213 2.613-2.213H11.469v-.554H7.286V4.947c0-1.26.322-1.942 2.092-2.269zm.176 2.838c.532 0 .963-.45.963-1.005 0-.555-.43-1.006-.963-1.006-.532 0-.964.45-.964 1.006 0 .555.432 1.005.964 1.005z",clipRule:"evenodd"})]}));var qe=e=>(0,n.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e,{children:[(0,n.jsx)("path",{fill:"#38BDF8",d:"M12 13.677a1.677 1.677 0 100-3.354 1.677 1.677 0 000 3.354z"}),(0,n.jsx)("path",{stroke:"#38BDF8",d:"M12 15.436c4.97 0 9-1.538 9-3.436s-4.03-3.436-9-3.436S3 10.102 3 12s4.03 3.436 9 3.436z"}),(0,n.jsx)("path",{stroke:"#38BDF8",d:"M9.024 13.718c2.485 4.305 5.832 7.025 7.476 6.076 1.644-.949.961-5.208-1.524-9.512C12.491 5.977 9.144 3.257 7.5 4.206c-1.644.949-.961 5.208 1.524 9.512z"}),(0,n.jsx)("path",{stroke:"#38BDF8",d:"M9.024 10.282c-2.485 4.304-3.168 8.563-1.524 9.512 1.644.95 4.99-1.771 7.476-6.076 2.485-4.304 3.168-8.563 1.524-9.512-1.644-.95-4.99 1.771-7.476 6.076z"})]}));var Xe=e=>(0,n.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e,{children:[(0,n.jsx)("path",{fill:"#2563EB",d:"M12 13.677a1.677 1.677 0 100-3.354 1.677 1.677 0 000 3.354z"}),(0,n.jsx)("path",{stroke:"#2563EB",d:"M12 15.436c4.97 0 9-1.538 9-3.436s-4.03-3.436-9-3.436S3 10.102 3 12s4.03 3.436 9 3.436z"}),(0,n.jsx)("path",{stroke:"#2563EB",d:"M9.024 13.718c2.485 4.305 5.832 7.025 7.476 6.076 1.644-.949.961-5.208-1.524-9.512C12.491 5.977 9.144 3.257 7.5 4.206c-1.644.949-.961 5.208 1.524 9.512z"}),(0,n.jsx)("path",{stroke:"#2563EB",d:"M9.024 10.282c-2.485 4.304-3.168 8.563-1.524 9.512 1.644.95 4.99-1.771 7.476-6.076 2.485-4.304 3.168-8.563 1.524-9.512-1.644-.95-4.99 1.771-7.476 6.076z"})]}));var Ye=e=>(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 25 24"},e,{children:(0,n.jsx)("path",{fill:"#EA580C",fillRule:"evenodd",d:"M12.58 2.136a.287.287 0 00-.488 0l-.526.85a8.974 8.974 0 00-.232.022l-.683-.73a.287.287 0 00-.478.096l-.35.935c-.075.021-.15.044-.224.067l-.812-.583a.287.287 0 00-.45.187l-.162.989a9.088 9.088 0 00-.204.11l-.913-.417a.287.287 0 00-.406.272l.036 1.005a9.099 9.099 0 00-.175.144l-.98-.231a.287.287 0 00-.345.345l.231.98a9.125 9.125 0 00-.144.175L4.27 6.316a.287.287 0 00-.271.406l.416.913a9.036 9.036 0 00-.11.203L3.317 8a.287.287 0 00-.187.45l.584.813a8.953 8.953 0 00-.068.223l-.935.35a.287.287 0 00-.095.479l.73.682a8.966 8.966 0 00-.023.233l-.85.526a.287.287 0 000 .488l.85.526c.007.078.014.156.023.233l-.73.682a.287.287 0 00.095.479l.935.35.068.223-.584.812a.287.287 0 00.187.451l.99.162c.035.068.072.135.109.203l-.416.913a.287.287 0 00.271.406l1.006-.036c.047.059.095.117.143.174l-.23.981a.287.287 0 00.344.345l.981-.23c.057.048.115.095.174.142l-.036 1.006a.287.287 0 00.406.272l.914-.417c.067.038.135.074.203.11l.161.99a.287.287 0 00.451.186l.813-.584c.074.024.148.046.223.068l.35.935a.287.287 0 00.478.095l.683-.73c.077.01.154.017.232.023l.526.85a.287.287 0 00.489 0l.526-.85c.078-.006.155-.014.232-.023l.682.73a.287.287 0 00.479-.095l.35-.935c.075-.022.15-.044.223-.068l.813.584a.287.287 0 00.45-.187l.162-.99a8.77 8.77 0 00.203-.109l.913.417a.287.287 0 00.406-.272l-.035-1.006c.058-.047.116-.094.174-.143l.98.231a.287.287 0 00.346-.345l-.231-.98.143-.175 1.006.036a.287.287 0 00.271-.406l-.416-.913a9.4 9.4 0 00.109-.203l.99-.162a.287.287 0 00.187-.45l-.584-.813a8.43 8.43 0 00.067-.223l.935-.35a.287.287 0 00.096-.479l-.73-.682c.009-.077.016-.155.023-.233l.85-.526a.287.287 0 000-.488l-.85-.526a8.844 8.844 0 00-.023-.233l.73-.682a.287.287 0 00-.096-.479l-.934-.35a9.246 9.246 0 00-.068-.223l.584-.812A.287.287 0 0021.357 8l-.99-.162a8.92 8.92 0 00-.11-.203l.417-.913a.287.287 0 00-.271-.406l-1.006.036a9.178 9.178 0 00-.143-.174l.23-.981a.287.287 0 00-.345-.345l-.98.23a9.43 9.43 0 00-.174-.142l.035-1.006a.287.287 0 00-.405-.272l-.914.417a9.11 9.11 0 00-.203-.11l-.162-.99a.287.287 0 00-.45-.186l-.813.584a9.088 9.088 0 00-.223-.068l-.35-.935a.287.287 0 00-.479-.095l-.682.73a9.062 9.062 0 00-.232-.023l-.526-.85zm-.257 1.62a.592.592 0 01.578.596.595.595 0 11-.578-.595zm1.363.98A7.324 7.324 0 0118.7 8.309l-.702 1.585a.547.547 0 00.275.717l1.352.6c.041.422.047.847.015 1.27h-.752c-.075 0-.106.05-.106.123v.344c0 .812-.457.99-.859 1.034-.383.044-.806-.161-.86-.394-.22-1.24-.583-1.526-1.152-1.975l-.041-.033c.736-.467 1.502-1.158 1.502-2.08 0-.998-.683-1.625-1.148-1.934-.655-.43-1.379-.516-1.574-.516H6.88a7.324 7.324 0 014.098-2.312l.916.96a.54.54 0 00.766.018l1.026-.978zm-8.46 4.407a.595.595 0 11-.034 1.19.595.595 0 01.034-1.19zm14.192.026a.595.595 0 11-.035 1.19.595.595 0 01.035-1.19zm-13.07.096h1.037v4.678H5.291a7.324 7.324 0 01-.237-2.797l1.282-.57a.542.542 0 00.276-.716l-.264-.595zm4.33.05h2.47c.128 0 .901.147.901.727 0 .48-.593.653-1.081.653h-2.293l.002-1.38zm0 3.36h1.892c.172 0 .924.05 1.164 1.011.026.104.064.291.107.503.078.389.174.861.247 1.06.113.345.57 1.034 1.058 1.034h3.089c-.207.277-.433.54-.677.785l-1.258-.27a.544.544 0 00-.645.417l-.298 1.394a7.323 7.323 0 01-6.108-.03l-.298-1.392a.542.542 0 00-.643-.418l-1.23.264a7.32 7.32 0 01-.636-.75h5.984c.067 0 .113-.011.113-.074v-2.117c0-.061-.046-.075-.113-.075h-1.75l.001-1.341zm-2.763 4.848a.595.595 0 11-.034 1.19.595.595 0 01.034-1.19zm8.814.027a.596.596 0 11-.035 1.19.596.596 0 01.035-1.19z",clipRule:"evenodd"})}));var Ge=e=>(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 25 24"},e,{children:(0,n.jsx)("path",{stroke:"#14B8A6",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4.336 17l6-6-6-6M12.336 19h8"})}));var Ze=e=>(0,n.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e,{children:[(0,n.jsx)("rect",{width:"16",height:"2",x:"4",y:"6",fill:"#64748B",rx:"1"}),(0,n.jsx)("rect",{width:"12",height:"2",x:"4",y:"11",fill:"#64748B",rx:"1"}),(0,n.jsx)("rect",{width:"16",height:"2",x:"4",y:"16",fill:"#64748B",rx:"1"})]}));var Ke=e=>(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e,{children:(0,n.jsx)("path",{fill:"#2563EB",d:"M3.234 9.093V7.318h8.363v1.775H8.479V17.5H6.352V9.093H3.234zm15.263 1.153c-.04-.4-.21-.712-.512-.934-.301-.222-.71-.333-1.228-.333-.351 0-.648.05-.89.149-.242.096-.427.23-.557.403a.969.969 0 00-.189.586.838.838 0 00.115.477c.086.136.204.254.353.353.149.097.321.181.517.254.195.07.404.13.626.179l.915.219c.444.1.852.232 1.223.397.371.166.693.37.965.612.271.242.482.527.631.855.152.328.23.704.234 1.129-.004.623-.163 1.163-.478 1.62-.311.454-.762.807-1.352 1.06-.587.248-1.294.372-2.123.372-.822 0-1.538-.126-2.147-.378-.607-.252-1.081-.624-1.422-1.118-.338-.497-.516-1.112-.532-1.845h2.083c.023.342.12.627.293.855.176.226.41.397.701.513.295.112.628.168 1 .168.364 0 .68-.053.949-.159.272-.106.482-.253.631-.442.15-.189.224-.406.224-.651a.846.846 0 00-.204-.577c-.132-.156-.328-.288-.586-.398a5.964 5.964 0 00-.94-.298l-1.109-.278c-.858-.21-1.536-.536-2.033-.98-.497-.444-.744-1.042-.74-1.795-.004-.616.16-1.155.491-1.615.335-.461.794-.82 1.377-1.08.584-.258 1.247-.387 1.99-.387.755 0 1.414.13 1.978.388.567.258 1.007.618 1.322 1.079.315.46.477.994.488 1.6h-2.064z"})}));var Je=e=>(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e,{children:(0,n.jsx)("path",{fill:"#A78BFA",d:"M6.533 5.864h2.755l2.654 5.011h.113l2.654-5.011h2.756l-4.245 7.522V17.5h-2.443v-4.114L6.533 5.864z"})}));var Qe=e=>(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e,{children:(0,n.jsx)("path",{stroke:"#64748B",strokeWidth:"2",d:"M7.784 5H5a2 2 0 00-2 2v10a2 2 0 002 2h14a2 2 0 002-2V9.875a2 2 0 00-2-2h-6.284a2 2 0 01-1.27-.455L9.054 5.455A2 2 0 007.783 5z"})}));class et{constructor(e,t){this.presentWorkingDirectory="",this.currentFileStructure={},this.actionsApplied=[],this.openFiles=new Set,this.verbose=!1,this.verbose=t||!1,e&&this.applyActions(e)}applyActions(e){e.forEach((e=>{this.applyAction(e)}))}applyAction(e){switch(De(e)&&parseInt(e.value),e.name){case"file-explorer-set-present-working-directory":this.setPresentWorkingDirectory(e.value);break;case"file-explorer-set-file-contents":{const t=e.value.split(Pe);if(2!==t.length){this.verbose&&console.warn(`Invalid value for file-explorer-set-file-contents: ${e.value}`);break}const r=t[0],n=t[1];this.verbose&&console.log(`Setting content of file ${r} to: ${n}`);const i=this.resolvePath(r);this.verbose&&console.log(`Resolved path for content: ${i}`);const{parent:o,name:s}=this.getParentDirectory(i);if(this.verbose&&console.log(`Parent: ${o}, name: ${s}`),!o[s]){this.verbose&&console.log(`File ${s} not found in parent. Cannot set content. Available keys: ${Object.keys(o)}`);break}o[s].content=n;break}case"file-explorer-create-file":{const t=this.resolvePath(e.value);this.verbose&&(console.log(`Creating file: ${e.value}`),console.log(`Resolved path: ${t}`));const{parent:r,name:n}=this.getParentDirectory(t);r[n]=this.createFileItem(n);break}case"file-explorer-open-file":this.openFile(e.value);break;case"file-explorer-close-file":this.closeFile(e.value);break;case"file-explorer-rename-file":{const t=e.value.split(Pe);if(2!==t.length){this.verbose&&console.warn(`Invalid value for file-explorer-rename-file: ${e.value}`);break}const r=t[0],n=t[1],i=this.resolvePath(r),o=this.resolvePath(n);this.verbose&&(console.log(`Renaming file from ${r} to ${n}`),console.log(`Resolved paths: from ${i} to ${o}`));const{parent:s,name:a}=this.getParentDirectory(i),{parent:l,name:c}=this.getParentDirectory(o);s[a]&&(l[c]=s[a],delete s[a],this.openFiles.has(r)&&(this.openFiles.delete(r),this.openFiles.add(n)));break}case"file-explorer-move-file":{const t=e.value.split(Pe);if(2!==t.length){this.verbose&&console.warn(`Invalid value for file-explorer-move-file: ${e.value}`);break}const r=t[0],n=t[1],i=this.resolvePath(r),o=this.resolvePath(n);this.verbose&&(console.log(`Moving file from ${r} to ${n}`),console.log(`Resolved paths: from ${i} to ${o}`));const{parent:s,name:a}=this.getParentDirectory(i),{parent:l,name:c}=this.getParentDirectory(o);s[a]&&(l[c]=s[a],delete s[a]);break}case"file-explorer-copy-file":{const t=e.value.split(Pe);if(2!==t.length){this.verbose&&console.warn(`Invalid value for file-explorer-copy-file: ${e.value}`);break}const r=t[0],n=t[1],i=this.resolvePath(r),o=this.resolvePath(n);this.verbose&&(console.log(`Copying file from ${r} to ${n}`),console.log(`Resolved paths: from ${i} to ${o}`));const{parent:s,name:a}=this.getParentDirectory(i),{parent:l,name:c}=this.getParentDirectory(o);s[a]&&(l[c]=Object.assign({},s[a]));break}case"file-explorer-delete-file":{const{parent:t,name:r}=this.getParentDirectory(e.value);delete t[r];break}case"file-explorer-create-folder":{const t=this.resolvePath(e.value);this.verbose&&(console.log(`Creating folder: ${e.value}`),console.log(`Resolved path: ${t}`));const{parent:r,name:n}=this.getParentDirectory(t);r[n]=this.createDirectoryItem();break}case"file-explorer-expand-folder":{const{parent:t,name:r}=this.getParentDirectory(e.value);t[r]&&"directory"===t[r].type&&(t[r].collapsed=!1);break}case"file-explorer-collapse-folder":{const{parent:t,name:r}=this.getParentDirectory(e.value);t[r]&&"directory"===t[r].type&&(t[r].collapsed=!0);break}case"file-explorer-rename-folder":{const t=e.value.split(Pe);if(2!==t.length){this.verbose&&console.warn(`Invalid value for file-explorer-rename-folder: ${e.value}`);break}const r=t[0],n=t[1],i=this.resolvePath(r),o=this.resolvePath(n);this.verbose&&(console.log(`Renaming folder from ${r} to ${n}`),console.log(`Resolved paths: from ${i} to ${o}`));const{parent:s,name:a}=this.getParentDirectory(i),{parent:l,name:c}=this.getParentDirectory(o);s[a]&&(l[c]=s[a],delete s[a]);break}case"file-explorer-move-folder":{const t=e.value.split(Pe);if(2!==t.length){this.verbose&&console.warn(`Invalid value for file-explorer-move-folder: ${e.value}`);break}const r=t[0],n=t[1],i=this.resolvePath(r),o=this.resolvePath(n);this.verbose&&(console.log(`Moving folder from ${r} to ${n}`),console.log(`Resolved paths: from ${i} to ${o}`));const{parent:s,name:a}=this.getParentDirectory(i),{parent:l,name:c}=this.getParentDirectory(o);s[a]&&"directory"===s[a].type&&(l[c]=s[a],delete s[a]);break}case"file-explorer-copy-folder":{const t=e.value.split(Pe);if(2!==t.length){this.verbose&&console.warn(`Invalid value for file-explorer-copy-folder: ${e.value}`);break}const r=t[0],n=t[1],i=this.resolvePath(r),o=this.resolvePath(n);this.verbose&&(console.log(`Copying folder from ${r} to ${n}`),console.log(`Resolved paths: from ${i} to ${o}`));const{parent:s,name:a}=this.getParentDirectory(i),{parent:l,name:c}=this.getParentDirectory(o);s[a]&&"directory"===s[a].type&&(l[c]=this.copyDirectory(s[a]));break}case"file-explorer-delete-folder":{const{parent:t,name:r}=this.getParentDirectory(e.value);delete t[r];break}case"file-explorer-toggle-folder":{const{parent:t,name:r}=this.getParentDirectory(e.value);if(t[r]&&"directory"===t[r].type){const e=t[r];e.collapsed=!e.collapsed}break}}this.actionsApplied.push(e),this.verbose&&console.log(`Action: ${e.name}`)}getPresentWorkingDirectory(){return this.presentWorkingDirectory}getCurrentFileTree(e=!0){return this.buildTreeString(this.currentFileStructure,"",e)}getFiles(){const e=[],t=(r,n)=>{for(const[i,o]of Object.entries(r))"directory"===o.type?t(o.children,`${n}/${i}`):e.push(`${n}/${i}`)};return t(this.currentFileStructure,""),e.sort()}getLsString(){let e=this.currentFileStructure,t=this.presentWorkingDirectory;t.startsWith("~")&&(t=t.slice(1));const r=this.getPathComponents(t);this.verbose&&(console.log("getLsString - Current path:",this.presentWorkingDirectory),console.log("getLsString - Processed path:",t),console.log("getLsString - Path components:",r),console.log("getLsString - Initial structure:",JSON.stringify(this.currentFileStructure,null,2)));for(const i of r){if(this.verbose&&console.log(`getLsString - Checking component: "${i}"`),!e[i]||"directory"!==e[i].type)return this.verbose&&(console.log(`getLsString - Directory not found: ${i}`),console.log("getLsString - Available keys:",Object.keys(e))),"";this.verbose&&console.log(`getLsString - Found directory: ${i}`),e=e[i].children,this.verbose&&console.log("getLsString - Children structure:",JSON.stringify(e,null,2))}const n=Object.keys(e).sort();return this.verbose&&console.log("getLsString - Final target directory contents:",n),0===n.length?"":n.join("\n")}getFileObjects(){const e=[],t=(r,n)=>{for(const[i,o]of Object.entries(r))e.push(o),"directory"===o.type&&t(o.children)};return t(this.currentFileStructure),e}getCurrentFileStructure(){return this.currentFileStructure}getActionsApplied(){return this.actionsApplied}getFileContents(e){const t=this.resolvePath(e);this.verbose&&console.log(`Getting contents of file: ${e}`),this.verbose&&console.log(`Resolved path: ${t}`);const{parent:r,name:n}=this.getParentDirectory(t);this.verbose&&console.log(`Parent keys: ${Object.keys(r)}`);const i=r[n];return i?"directory"===i.type?(this.verbose&&console.warn(`Path points to a directory, not a file: ${t}`),""):i.content:(this.verbose&&console.warn(`File not found: ${t}`),"")}getOpenFiles(){return Array.from(this.openFiles).sort()}setVerbose(e){this.verbose=e}setPresentWorkingDirectory(e){"~"===e&&(e=""),this.presentWorkingDirectory=e}resolvePath(e){return e.startsWith("~")?e.slice(1):`${this.presentWorkingDirectory}/${e}`}getFileExtension(e){const t=e.split(".");return t.length>1?t.pop():""}createFileItem(e){return{type:"file",content:"",language:this.getFileExtension(e),caretPosition:{row:0,col:0}}}createDirectoryItem(){return{type:"directory",content:"",collapsed:!1,children:{}}}getPathComponents(e){return e.split("/").filter((e=>e.length>0))}getParentDirectory(e){const t=this.getPathComponents(e),r=t.pop();let n=this.currentFileStructure;for(const i of t)n[i]||(n[i]=this.createDirectoryItem()),n=n[i].children;return{parent:n,name:r}}copyDirectory(e){const t={type:"directory",content:e.content,collapsed:e.collapsed,children:{}};if(e.children)for(const[r,n]of Object.entries(e.children))"directory"===n.type?t.children[r]=this.copyDirectory(n):t.children[r]=Object.assign({},n);return t}buildTreeString(e,t="",r=!0){let n="";const i=Object.entries(e).sort((([e,t],[r,n])=>{const i="directory"===t.type,o="directory"===n.type;return i!==o?o?1:-1:e.localeCompare(r)}));for(const[o,s]of i)"directory"===s.type?(n+=`${t}${o}\n`,!r&&s.collapsed||!s.children||(n+=this.buildTreeString(s.children,t+"  ",r))):n+=`${t}${o}\n`;return n}openFile(e){const{parent:t,name:r}=this.getParentDirectory(e),n=t[r];n?"directory"!==n.type?this.openFiles.add(e):this.verbose&&console.warn(`Cannot open a directory: ${e}`):this.verbose&&console.warn(`File not found: ${e}`)}closeFile(e){this.openFiles.delete(e)}}class tt{constructor(e,t,r){this.caretRow=0,this.caretCol=0,this.highlightStartRow=-1,this.highlightStartCol=-1,this.verbose=!1,this.codeLinesHistory=[],this.speechCaptionHistory=[],this.caretPositionHistory=[],this.highlightStartPositionHistory=[],this.currentlyHighlightedCode="",this.highlightHistory=[],this.isSaved=!1,0===e.length&&(e=[""]),this.codeLines=e,this.actionsApplied=[{name:"editor-type",value:1===e.length?e[0]:e.join("\n")}],this.editorActionsApplied=[{name:"editor-type",value:1===e.length?e[0]:e.join("\n")}],this.codeLinesHistory=[],this.codeLinesHistory.push(e.slice()),this.highlightHistory=[],this.highlightHistory.push([""]),this.authorActionsApplied=[],this.speechCaptionHistory=[],this.caretPositionHistory=[{row:0,col:0}],this.highlightStartPositionHistory=[{row:-1,col:-1}],t&&this.applyActions(t),r&&(this.verbose=r)}applyActions(e){return e.forEach((e=>{this.applyAction(e)})),this.getCode()}applyAction(e){let t=1;De(e)&&(t=parseInt(e.value)),this.currentlyHighlightedCode="";const r=this.codeLines[this.caretRow].length;switch(e.name){case"editor-enter":if(this.isSaved=!1,this.verbose&&(console.log("ENTER ACTION"),console.log("this.highlightStartRow: ",this.highlightStartRow),console.log("this.highlightStartCol: ",this.highlightStartCol)),-1!==this.highlightStartRow){const e=this.highlightStartRow<this.caretRow||this.highlightStartRow===this.caretRow&&this.highlightStartCol<=this.caretCol,r=e?this.highlightStartRow:this.caretRow,n=e?this.caretRow:this.highlightStartRow,i=e?this.highlightStartCol:this.caretCol,o=e?this.caretCol:this.highlightStartCol,s=this.codeLines[r].substring(0,i),a=this.codeLines[n].substring(o);this.codeLines[r]=s,n>r&&this.codeLines.splice(r+1,n-r);const l=Array(t-1).fill("");l.push(a),this.caretRow=r+t,this.caretCol=0,this.codeLines.splice(this.caretRow,0,...l),this.clearCurrentHighlightedCode()}else for(let e=0;e<t;e++){const e=this.codeLines[this.caretRow],t=e.substring(0,this.caretCol),r=e.substring(this.caretCol);this.verbose&&(console.log("currentLine: ",e),console.log("beforeCaret: ",t),console.log("afterCaret: ",r)),this.codeLines[this.caretRow]=t,this.codeLines.splice(this.caretRow+1,0,r),this.caretRow++,this.caretCol=0}break;case"editor-type":if(this.isSaved=!1,-1!==this.highlightStartRow){const e=this.highlightStartRow,t=this.highlightStartCol,r=this.caretRow,n=this.caretCol;e===r?this.codeLines[e]=this.codeLines[e].substring(0,t)+this.codeLines[e].substring(n):(this.codeLines[e]=this.codeLines[e].substring(0,t)+this.codeLines[r].substring(n),this.codeLines.splice(e+1,r-e)),this.caretRow=e,this.caretCol=t,this.clearCurrentHighlightedCode()}const n=e.value.length;for(let r=0;r<t;r++)this.codeLines[this.caretRow]=this.codeLines[this.caretRow].substring(0,this.caretCol)+e.value+this.codeLines[this.caretRow].substring(this.caretCol),this.caretCol+=n;break;case"editor-arrow-down":for(let e=0;e<t;e++)this.caretRow<this.codeLines.length-1&&this.caretRow++;this.clearCurrentHighlightedCode();break;case"editor-arrow-up":for(let e=0;e<t;e++)this.caretRow>0&&this.caretRow--;this.clearCurrentHighlightedCode();break;case"editor-arrow-right":for(let e=0;e<t;e++)this.caretCol<r?this.caretCol++:this.caretRow<this.codeLines.length-1&&(this.caretRow++,this.caretCol=0);this.clearCurrentHighlightedCode();break;case"editor-arrow-left":for(let e=0;e<t;e++)this.caretCol>0?this.caretCol--:this.caretRow>0&&(this.caretRow--,this.caretCol=this.codeLines[this.caretRow].length-1);this.clearCurrentHighlightedCode();break;case"editor-backspace":if(this.isSaved=!1,-1!==this.highlightStartRow){const e=Math.min(this.highlightStartRow,this.caretRow),t=Math.max(this.highlightStartRow,this.caretRow),r=this.highlightStartRow<this.caretRow,n=r?this.highlightStartCol:this.caretCol,i=r?this.caretCol:this.highlightStartCol;if(e===t){const t=Math.min(n,i),r=Math.max(n,i);this.codeLines[e]=this.codeLines[e].substring(0,t)+this.codeLines[e].substring(r),this.caretRow=e,this.caretCol=t}else{const r=this.codeLines[e].substring(0,n),o=this.codeLines[t].substring(i);this.codeLines[e]=r+o,this.codeLines.splice(e+1,t-e),this.caretRow=e,this.caretCol=n}this.clearCurrentHighlightedCode()}else for(let e=0;e<t;e++)if(this.caretCol>0)this.codeLines[this.caretRow]=this.codeLines[this.caretRow].substring(0,this.caretCol-1)+this.codeLines[this.caretRow].substring(this.caretCol),this.caretCol--;else if(this.caretRow>0){const e=this.codeLines[this.caretRow-1].length;this.codeLines[this.caretRow-1]+=this.codeLines[this.caretRow],this.codeLines.splice(this.caretRow,1),this.caretRow--,this.caretCol=e}break;case"editor-space":if(this.isSaved=!1,-1!==this.highlightStartRow){const e=Math.min(this.highlightStartRow,this.caretRow),t=Math.max(this.highlightStartRow,this.caretRow),r=e===this.highlightStartRow?this.highlightStartCol:this.caretCol,n=t===this.highlightStartRow?this.highlightStartCol:this.caretCol;if(e===t){const t=Math.min(r,n),i=Math.max(r,n);this.codeLines[e]=this.codeLines[e].substring(0,t)+this.codeLines[e].substring(i),this.caretRow=e,this.caretCol=t}else{const i=this.codeLines[e].substring(0,r),o=this.codeLines[t].substring(n);this.codeLines[e]=i+o,this.codeLines.splice(e+1,t-e),this.caretRow=e,this.caretCol=r}this.clearCurrentHighlightedCode()}for(let e=0;e<t;e++)this.codeLines[this.caretRow]=this.codeLines[this.caretRow].substring(0,this.caretCol)+" "+this.codeLines[this.caretRow].substring(this.caretCol),this.caretCol++;break;case"editor-tab":for(let e=0;e<t;e++)this.codeLines[this.caretRow]=this.codeLines[this.caretRow].substring(0,this.caretCol)+"\t"+this.codeLines[this.caretRow].substring(this.caretCol),this.caretCol++;break;case"editor-command-left":for(let e=0;e<t;e++)this.caretCol>0&&(this.caretCol=0);this.clearCurrentHighlightedCode();break;case"editor-command-right":for(let e=0;e<t;e++)this.caretCol<this.codeLines[this.caretRow].length&&(this.caretCol=this.codeLines[this.caretRow].length);this.clearCurrentHighlightedCode();break;case"editor-shift+arrow-left":-1===this.highlightStartRow&&(this.highlightStartRow=this.caretRow,this.highlightStartCol=this.caretCol);for(let e=0;e<t;e++)this.caretCol>0?this.caretCol--:this.caretRow>0&&(this.caretRow--,this.caretCol=this.codeLines[this.caretRow].length);this.currentlyHighlightedCode=this.calculateHighlightedText();break;case"editor-shift+arrow-right":-1===this.highlightStartRow&&(this.highlightStartRow=this.caretRow,this.highlightStartCol=this.caretCol);for(let e=0;e<t;e++)this.caretCol<this.codeLines[this.caretRow].length?this.caretCol++:this.caretRow<this.codeLines.length-1&&(this.caretRow++,this.caretCol=0);this.currentlyHighlightedCode=this.calculateHighlightedText();break;case"editor-shift+arrow-down":-1===this.highlightStartRow&&(this.highlightStartRow=this.caretRow,this.highlightStartCol=this.caretCol);for(let e=0;e<t;e++)if(this.caretRow<this.codeLines.length-1){const e=this.codeLines[this.caretRow+1].length;this.caretCol<e?this.caretRow++:(this.caretRow++,this.caretCol=e)}this.currentlyHighlightedCode=this.calculateHighlightedText();break;case"editor-shift+arrow-up":-1===this.highlightStartRow&&(this.highlightStartRow=this.caretRow,this.highlightStartCol=this.caretCol);for(let e=0;e<t;e++)if(this.caretRow>0){const e=this.codeLines[this.caretRow-1].length;this.caretCol<e?this.caretRow--:(this.caretRow--,this.caretCol=e)}this.currentlyHighlightedCode=this.calculateHighlightedText();break;case"editor-save":this.isSaved=!0;break;default:console.log(`WARNING: Action ${e.name} not recognized. Skipping... If this is an author or speak action those should eventually anyway be moved to VirtualAuthor - go yell at Chris to fix this.`)}this.actionsApplied.push(e),Oe(e)&&this.editorActionsApplied.push(e),Ne(e)&&(this.authorActionsApplied.push(e),this.speechCaptionHistory.push({speechType:e.name,speechValue:e.value}));const n=this.codeLines.slice();return this.codeLinesHistory.push(n),this.caretPositionHistory.push({row:this.caretRow,col:this.caretCol}),this.highlightStartPositionHistory.push({row:-1===this.highlightStartRow?-1:this.highlightStartRow,col:-1===this.highlightStartCol?-1:this.highlightStartCol}),this.highlightHistory.push(""===this.currentlyHighlightedCode?[""]:[this.currentlyHighlightedCode]),this.verbose&&(console.log("PREVIOUS CODE:"),console.log(`\`${this.getCodeAtActionIndex(this.actionsApplied.length-2)}\``),console.log("APPLIED ACTION:"),console.log(e),console.log("CURRENT CODE:"),console.log(`\`${this.getCodeAtActionIndex(this.actionsApplied.length-1)}\``)),this.getCode()}getCodeLines(){return this.codeLines}getCurrentCaretPosition(){return{row:this.caretRow+1,col:this.caretCol+1}}getCurrentHighlightCoordinates(){if(-1===this.highlightStartRow)return null;return{start:{row:this.highlightStartRow+1,col:this.highlightStartCol+1},end:{row:this.caretRow+1,col:this.caretCol+1}}}getIsSaved(){return this.isSaved}getCurrentHighlightedCode(){return this.currentlyHighlightedCode}clearCurrentHighlightedCode(){this.highlightStartRow=-1,this.highlightStartCol=-1,this.currentlyHighlightedCode=""}setCurrentCaretPosition(e,t){this.caretRow=e-1,this.caretCol=t-1}getActionsApplied(){return this.actionsApplied}getCode(){return this.codeLines.join("\n")}getCodeAtActionIndex(e){if(e>this.codeLinesHistory.length-1)throw new Error("Action index out of bounds");return this.codeLinesHistory[e].join("\n")}getHighlightedCodeAtActionIndex(e){if(e>this.highlightHistory.length-1)throw new Error("Action index out of bounds");return this.highlightHistory[e].join("\n")}getCodeLinesHistory(){return this.codeLinesHistory}getAuthorActionsApplied(){return this.authorActionsApplied}getSpeechCaptionHistory(){return this.speechCaptionHistory}getEditorActionsApplied(){return this.editorActionsApplied}getCodeAfterEachStep(){return this.codeLinesHistory.map((e=>e.join("\n")))}getEditorStateAfterEachStep(){return this.codeLinesHistory.map(((e,t)=>({code:e.join("\n"),caretPosition:{row:this.caretPositionHistory[t].row,col:this.caretPositionHistory[t].col}})))}getDataForAnnotatedFrames(){return this.actionsApplied.map(((e,t)=>{const r=[];return Ne(e)&&r.push({speechType:e.name,speechValue:e.value}),{actionApplied:this.actionsApplied[t],code:this.getCodeAtActionIndex(t),highlightStartPosition:-1!==this.highlightStartPositionHistory[t].row?{row:this.highlightStartPositionHistory[t].row,col:this.highlightStartPositionHistory[t].col}:null,highlightedCode:this.highlightHistory[t].join("\n"),caretPosition:{row:this.caretPositionHistory[t].row,col:this.caretPositionHistory[t].col},speechCaptions:r}}))}setVerbose(e){this.verbose=e}calculateHighlightedText(){if(-1===this.highlightStartRow)return"";if(this.caretRow===this.highlightStartRow){const e=Math.min(this.highlightStartCol,this.caretCol),t=Math.max(this.highlightStartCol,this.caretCol);return this.codeLines[this.caretRow].substring(e,t)}const e=[],t=Math.min(this.highlightStartRow,this.caretRow),r=Math.max(this.highlightStartRow,this.caretRow),n=this.highlightStartRow<this.caretRow;for(let i=t;i<=r;i++)if(i===t){const t=n?this.highlightStartCol:this.caretCol;e.push(this.codeLines[i].substring(t))}else if(i===r){const t=n?this.caretCol:this.highlightStartCol;e.push(this.codeLines[i].substring(0,t))}else e.push(this.codeLines[i]);return e.join("\n")}}class rt{constructor(e,t,r){this.presentWorkingDirectory="~",this.prompt=`[codevideo.studio] [${this.presentWorkingDirectory}] /> `,this.caretPosition=0,this.currentCommand="",this.commandHistory=[],this.historyIndex=-1,this.actionsApplied=[],this.verbose=!1,this.bufferLines=[],this.bufferLines.push(this.prompt),e&&(this.currentCommand=e,this.caretPosition=e.length,this.bufferLines[0]+=e),t&&this.applyActions(t),this.verbose=r||!1}applyActions(e){return e.forEach((e=>{this.applyAction(e)})),this.getCurrentCommand()}applyAction(e){let t=1;switch(De(e)&&(t=parseInt(e.value)),e.name){case"terminal-set-output":this.addLinesToBufferLines(e.value);break;case"terminal-set-prompt":this.prompt=e.value;break;case"terminal-set-present-working-directory":this.setPresentWorkingDirectory(e.value);break;case"terminal-type":this.currentCommand=this.currentCommand.slice(0,this.caretPosition)+e.value+this.currentCommand.slice(this.caretPosition),this.caretPosition+=e.value.length,this.bufferLines[this.bufferLines.length-1]=this.prompt+this.currentCommand;break;case"terminal-enter":this.currentCommand.trim()&&this.commandHistory.push(this.currentCommand),this.historyIndex=this.commandHistory.length,this.currentCommand="",this.caretPosition=0;break;case"terminal-arrow-up":this.historyIndex>0&&(this.historyIndex--,this.currentCommand=this.commandHistory[this.historyIndex],this.caretPosition=this.currentCommand.length);break;case"terminal-arrow-down":this.historyIndex<this.commandHistory.length-1?(this.historyIndex++,this.currentCommand=this.commandHistory[this.historyIndex],this.caretPosition=this.currentCommand.length):this.historyIndex===this.commandHistory.length-1&&(this.historyIndex++,this.currentCommand="",this.caretPosition=0);break;case"terminal-arrow-left":for(let e=0;e<t&&this.caretPosition>0;e++)this.caretPosition--;break;case"terminal-arrow-right":for(let e=0;e<t&&this.caretPosition<this.currentCommand.length;e++)this.caretPosition++;break;case"terminal-backspace":for(let e=0;e<t;e++)this.caretPosition>0&&(this.currentCommand=this.currentCommand.slice(0,this.caretPosition-1)+this.currentCommand.slice(this.caretPosition),this.caretPosition--);break;case"terminal-space":this.currentCommand=this.currentCommand.slice(0,this.caretPosition)+" "+this.currentCommand.slice(this.caretPosition),this.caretPosition++;break;case"terminal-tab":this.currentCommand=this.currentCommand.slice(0,this.caretPosition)+"\t"+this.currentCommand.slice(this.caretPosition),this.caretPosition++;break;case"terminal-command-left":this.caretPosition=0;break;case"terminal-command-right":this.caretPosition=this.currentCommand.length}return this.actionsApplied.push(e),this.verbose&&console.log(`Action: ${e.name}, Command: ${this.currentCommand}, Caret: ${this.caretPosition}`),this.getCurrentCommand()}getCurrentCommand(){return this.currentCommand}getCommandHistory(){return this.commandHistory}getCurrentCaretPosition(){return this.caretPosition}getActionsApplied(){return this.actionsApplied}getPrompt(){return this.prompt}getPresentWorkingDirectory(){return this.presentWorkingDirectory}getBuffer(){return this.bufferLines}setVerbose(e){this.verbose=e}addLinesToBufferLines(e){e.split("\n").forEach((e=>{this.bufferLines.push(e)}))}setPresentWorkingDirectory(e){this.presentWorkingDirectory=e,this.prompt=`[codevideo.studio] [${this.presentWorkingDirectory}] /> `}}class nt{constructor(e,t){this.currentSpeechCaption="",this.actionsApplied=[],this.verbose=!1,this.verbose=t||!1,e&&this.applyActions(e)}applyActions(e){e.forEach((e=>{this.applyAction(e)}))}applyAction(e){switch(e.name){case"author-speak-before":case"author-speak-during":case"author-speak-after":this.currentSpeechCaption=e.value}this.actionsApplied.push(e),this.verbose&&console.log(`Action Name: ${e.name}, Action Value: ${e.value}`)}getActionsApplied(){return this.actionsApplied}getCurrentSpeechCaption(){return this.currentSpeechCaption}setVerbose(e){this.verbose=e}}const it=["cat","cd","cp","echo","ls","mkdir","mv","pwd","touch","tree"];class ot{constructor(e,t,r){this.virtualEditors=[],this.virtualTerminals=[],this.currentEditorIndex=0,this.currentTerminalIndex=0,this.currentAuthorIndex=0,this.currentCursorPosition={x:-1,y:-1},this.verbose=!1,this.logs=[],this.virtualAuthors=[],r&&(this.verbose=r),this.virtualFileExplorer=new et(void 0,this.verbose),this.virtualEditors=[],this.virtualTerminals=[],this.virtualAuthors=[],e&&(Se(e)&&this.reconstituteFromCourseAtActionIndex(e,t),je(e)&&this.reconstituteFromLessonAtActionIndex(e,t),Ae(e)&&this.reconstituteFromActionsAtActionIndex(e,t))}addVirtualEditor(e,t){this.virtualEditors.push({fileName:e,virtualEditor:t})}addVirtualTerminal(e){this.virtualTerminals.push(e)}addVirtualAuthor(e){this.virtualAuthors.push(e)}applyAction(e){if(Me(e)?(this.verbose&&console.log("VirtualIDE: Applying FILE EXPLORER ACTION",e),this.logs.push({source:"virtual-ide",type:"info",message:`Applying FILE EXPLORER action: ${e.name}`,timestamp:Date.now()}),this.virtualFileExplorer.applyAction(e)):Oe(e)?(this.verbose&&console.log("VirtualIDE: Applying EDITOR action",e),this.logs.push({source:"virtual-ide",type:"info",message:`Applying EDITOR action: ${e.name}`,timestamp:Date.now()}),0===this.virtualEditors.length&&(this.addVirtualEditor(e.value,new tt([],void 0,this.verbose)),this.currentEditorIndex=0),this.virtualEditors[this.currentEditorIndex].virtualEditor.applyAction(e)):Te(e)?(this.verbose&&console.log("VirtualIDE: Applying TERMINAL action",e),this.logs.push({source:"virtual-ide",type:"info",message:`Applying TERMINAL action: ${e.name}`,timestamp:Date.now()}),0===this.virtualTerminals.length&&(this.addVirtualTerminal(new rt(void 0,void 0,this.verbose)),this.currentTerminalIndex=0),this.virtualTerminals[this.currentTerminalIndex].applyAction(e)):Ne(e)?(this.verbose&&console.log("VirtualIDE: Applying AUTHOR action",e),this.logs.push({source:"virtual-ide",type:"info",message:`Applying AUTHOR action: ${e.name}`,timestamp:Date.now()}),0===this.virtualAuthors.length&&(this.addVirtualAuthor(new nt(void 0,this.verbose)),this.currentAuthorIndex=0),this.virtualAuthors[this.currentAuthorIndex].applyAction(e)):(this.verbose&&console.warn("VirtualIDE: Unknown action:",e),this.logs.push({source:"virtual-ide",type:"warning",message:`Unknown action: ${e.name}`,timestamp:Date.now()})),"file-explorer-open-file"===e.name){const t=e.value,r=this.virtualEditors.findIndex((e=>e.fileName===t));-1===r?(this.addVirtualEditor(t,new tt([],void 0,this.verbose)),this.currentEditorIndex=this.virtualEditors.length-1):this.currentEditorIndex=r}if("mouse-click-filename"===e.name){const t=e.value,r=this.virtualEditors.findIndex((e=>e.fileName===t));-1===r?(this.addVirtualEditor(t,new tt([],void 0,this.verbose)),this.currentEditorIndex=this.virtualEditors.length-1):this.currentEditorIndex=r}if("terminal-enter"===e.name&&this.executeTerminalCommandSideEffects(),"editor-save"===e.name){const e=this.virtualEditors[this.currentEditorIndex],t=e.fileName,r=e.virtualEditor.getCode();this.verbose&&console.log(`VirtualIDE: Saving file: ${t} with contents: ${r}`),this.virtualFileExplorer.applyAction({name:"file-explorer-set-file-contents",value:`${t}${Pe}${r}`})}}executeTerminalCommandSideEffects(){this.verbose&&console.log("VirtualIDE: Executing terminal command side effects"),this.logs.push({source:"virtual-ide",type:"info",message:"Executing terminal command side effects",timestamp:Date.now()});const e=this.virtualTerminals[this.currentTerminalIndex],t=e.getPrompt(),r=e.getCommandHistory(),n=r.length>0?r[r.length-1]:"",i=n.split(" ");if(0===i.length)return;const o=i[0];if(!it.includes(o))return this.verbose&&console.log(`VirtualIDE: Unsupported command: ${o} - supported commands are: ${it.join(", ")}`),this.logs.push({source:"virtual-ide",type:"warning",message:`Unsupported command: ${o} - supported commands are: ${it.join(", ")}`,timestamp:Date.now()}),e.applyAction({name:"terminal-set-output",value:`${n}: command not found`}),void e.applyAction({name:"terminal-set-output",value:t});if(1===i.length&&"ls"===n){const r=this.virtualFileExplorer.getLsString();return this.verbose&&console.log(`VirtualIDE: ls output: ${r}`),this.logs.push({source:"virtual-ide",type:"info",message:`ls output: ${r}`,timestamp:Date.now()}),0===r.length||e.applyAction({name:"terminal-set-output",value:r}),void e.applyAction({name:"terminal-set-output",value:t})}if(1===i.length&&"tree"===n){const r=this.virtualFileExplorer.getCurrentFileTree();return e.applyAction({name:"terminal-set-output",value:r}),void e.applyAction({name:"terminal-set-output",value:t})}let s=""===this.virtualFileExplorer.getPresentWorkingDirectory()?"~":this.virtualFileExplorer.getPresentWorkingDirectory();if(this.verbose&&console.log(`VirtualIDE: Present working directory: ${s}`),this.logs.push({source:"virtual-ide",type:"info",message:`Present working directory: ${s}`,timestamp:Date.now()}),1===i.length&&"pwd"===n)return e.applyAction({name:"terminal-set-output",value:s}),void e.applyAction({name:"terminal-set-output",value:t});if(2==i.length&&"touch"===o){this.verbose&&console.log(`VirtualIDE: Creating file: ${i[1]}`),this.logs.push({source:"virtual-ide",type:"info",message:`Creating file: ${i[1]}`,timestamp:Date.now()});const r=s+"/"+i[1];return this.verbose&&console.log(`VirtualIDE: Creating file: ${r}`),this.logs.push({source:"virtual-ide",type:"info",message:`Creating file: ${r}`,timestamp:Date.now()}),this.virtualFileExplorer.applyAction({name:"file-explorer-create-file",value:r}),void e.applyAction({name:"terminal-set-output",value:t})}if(2==i.length&&"mkdir"===o){this.verbose&&console.log(`VirtualIDE: Creating directory: ${i[1]}`),this.logs.push({source:"virtual-ide",type:"info",message:`Creating directory: ${i[1]}`,timestamp:Date.now()});const r=i[1];return this.virtualFileExplorer.applyAction({name:"file-explorer-create-folder",value:r}),void e.applyAction({name:"terminal-set-output",value:t})}if(2!=i.length||"cd"!==o){if(i.length>=2&&"echo"===o){let r=i.slice(1).join(" ");return(r.startsWith("'")||r.startsWith('"'))&&(r=r.slice(1)),(r.endsWith("'")||r.endsWith('"'))&&(r=r.slice(0,-1)),e.applyAction({name:"terminal-set-output",value:r}),void e.applyAction({name:"terminal-set-output",value:t})}if(2==i.length&&"cat"===o){const r=s+"/"+i[1];this.verbose&&console.log(`VirtualIDE: Reading file: ${r}`),this.logs.push({source:"virtual-ide",type:"info",message:`Reading file: ${r}`,timestamp:Date.now()});const n=this.virtualFileExplorer.getFileContents(r);return""!==n&&e.applyAction({name:"terminal-set-output",value:n}),void e.applyAction({name:"terminal-set-output",value:t})}if(3==i.length&&"cp"===o){const r=s+"/"+i[1],n=s+"/"+i[2];return this.verbose&&console.log(`VirtualIDE: Copying file from: ${r} to: ${n}`),this.logs.push({source:"virtual-ide",type:"info",message:`Copying file from: ${r} to: ${n}`,timestamp:Date.now()}),this.virtualFileExplorer.applyAction({name:"file-explorer-copy-file",value:`${r}${Pe}${n}`}),void e.applyAction({name:"terminal-set-output",value:t})}if(3==i.length&&"mv"===o){const r=s+"/"+i[1],n=s+"/"+i[2];return this.verbose&&console.log(`VirtualIDE: Moving file from: ${r} to: ${n}`),this.logs.push({source:"virtual-ide",type:"info",message:`Moving file from: ${r} to: ${n}`,timestamp:Date.now()}),this.virtualFileExplorer.applyAction({name:"file-explorer-move-file",value:`${r}${Pe}${n}`}),void e.applyAction({name:"terminal-set-output",value:t})}this.verbose&&console.log(`VirtualIDE: Unknown command: ${o}`),this.logs.push({source:"virtual-ide",type:"warning",message:`Unknown command: ${o}`,timestamp:Date.now()}),e.applyAction({name:"terminal-set-output",value:t})}else{this.verbose&&console.log(`VirtualIDE: Changing directory to: ${i[1]}`),this.logs.push({source:"virtual-ide",type:"info",message:`Changing directory to: ${i[1]}`,timestamp:Date.now()});const r=i[1];if(".."===r&&"~"===s)return void e.applyAction({name:"terminal-set-output",value:t});if(/[a-zA-Z0-9]\.[a-zA-Z0-9]/.test(r))return e.applyAction({name:"terminal-set-output",value:`cd: not a directory: ${r}`}),void e.applyAction({name:"terminal-set-output",value:t});if(".."===r){const e=s.split("/");e.pop(),s=e.join("/"),this.verbose&&console.log(`VirtualIDE: Changing directory to: ${s}`),this.logs.push({source:"virtual-ide",type:"info",message:`Changing directory to: ${s}`,timestamp:Date.now()})}else s=s+"/"+r,this.verbose&&console.log(`VirtualIDE: Changing directory to: ${s}`),this.logs.push({source:"virtual-ide",type:"info",message:`Changing directory to: ${s}`,timestamp:Date.now()});this.virtualFileExplorer.applyAction({name:"file-explorer-set-present-working-directory",value:s}),e.applyAction({name:"terminal-set-present-working-directory",value:s});const n=this.virtualTerminals[this.currentTerminalIndex].getPrompt();e.applyAction({name:"terminal-set-output",value:n})}}applyActions(e){e.forEach((e=>{this.applyAction(e)}))}getCursorPosition(){return-1===this.currentCursorPosition.x||-1===this.currentCursorPosition.y?null:this.currentCursorPosition}getOpenFiles(){return this.virtualFileExplorer.getOpenFiles()}getFileExplorerSnapshot(){return{fileStructure:this.virtualFileExplorer.getCurrentFileStructure()}}getEditorSnapshot(){return{editors:this.virtualEditors.map((e=>({isActive:e.fileName===this.virtualEditors[this.currentEditorIndex].fileName,filename:e.fileName,content:e.virtualEditor.getCode(),caretPosition:e.virtualEditor.getCurrentCaretPosition(),highlightCoordinates:e.virtualEditor.getCurrentHighlightCoordinates(),isSaved:e.virtualEditor.getIsSaved()})))}}getTerminalSnapshot(){return{terminals:this.virtualTerminals.map((e=>({content:e.getCurrentCommand()})))}}getMouseSnapshot(){return{x:0,y:0,timestamp:0,type:"move",buttonStates:{left:!1,right:!1,middle:!1},scrollPosition:{x:0,y:0}}}getAuthorSnapshot(){return{authors:this.virtualAuthors.map((e=>({currentSpeechCaption:e.getCurrentSpeechCaption()})))}}getCourseSnapshot(){return{fileExplorerSnapshot:this.getFileExplorerSnapshot(),editorSnapshot:this.getEditorSnapshot(),terminalSnapshot:this.getTerminalSnapshot(),mouseSnapshot:this.getMouseSnapshot(),authorSnapshot:this.getAuthorSnapshot()}}setVerbose(e){this.verbose=e,this.virtualFileExplorer.setVerbose(e),this.virtualEditors.forEach((t=>{t.virtualEditor.setVerbose(e)})),this.virtualTerminals.forEach((t=>{t.setVerbose(e)})),this.virtualAuthors.forEach((t=>{t.setVerbose(e)}))}getLogs(){return this.logs}reconstituteFromCourseAtActionIndex(e,t){void 0===t&&(t=0);const r=[];for(const i of e.lessons)r.push(...i.actions);const n=r.slice(0,t);this.applyActions(n)}reconstituteFromLessonAtActionIndex(e,t){void 0===t&&(t=0);const r=e.actions.slice(0,t);this.applyActions(r)}reconstituteFromActionsAtActionIndex(e,t){void 0===t&&(t=0);const r=e.slice(0,t);this.applyActions(r)}}var st=50,at={row:1,col:1};function lt(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{l(n.next(e))}catch(t){o(t)}}function a(e){try{l(n.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))}function ct(e,t){var r,n,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(o=0)),o;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(l){a=[6,l],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}function ut(e){var t=e.editors,r=e.theme;return 0===t.length?(0,n.jsx)(ce.x,{style:{backgroundColor:"light"===r?"var(--gray-5)":"var(--gray-4)",height:"30px",borderBottom:"1px solid var(--gray-7)"}}):(0,n.jsx)(ue.k,{style:{backgroundColor:"light"===r?"var(--gray-5)":"var(--gray-4)",height:"30px",borderBottom:"1px solid var(--gray-7)",pointerEvents:"none",userSelect:"none"},children:t.map((function(e){return(0,n.jsxs)(ue.k,{align:"center",style:{borderRight:"1px solid var(--gray-7)",padding:"0 10px"},children:[(0,n.jsx)(Ce,{style:{fontFamily:"Fira Code, monospace",color:"#CCCECC"},children:e.filename.split("/").pop()}),e.isSaved?(0,n.jsx)(ce.x,{ml:"2",style:{color:"var(--gray-8)",padding:0,lineHeight:1,minWidth:"auto"},children:""}):(0,n.jsx)(ce.x,{ml:"2",style:{width:"8px",height:"8px",backgroundColor:"var(--gray-8)",borderRadius:"9999px"}})]},e.filename)}))})}"function"==typeof SuppressedError&&SuppressedError;var ht=function(e){var t=e.url,r=(0,i.useState)(!1),o=r[0],s=r[1],a=(0,i.useState)(!1),l=a[0],c=a[1];return(0,i.useEffect)((function(){var e=setTimeout((function(){l||s(!0)}),1e4);return function(){return clearTimeout(e)}}),[l]),(0,n.jsx)(ce.x,{style:{width:"100%",height:"100vh"},children:o?(0,n.jsx)(ue.k,{align:"center",justify:"center",style:{height:"100%"},children:(0,n.jsxs)(Ce,{size:"5",style:{color:"var(--gray-10)"},children:["Failed to load external content from ",t,". The site may be invalid or not allow iframes."]})}):(0,n.jsx)("iframe",{src:t,title:"External Web Viewer",style:{width:"100%",height:"100%",border:0},sandbox:"allow-same-origin allow-scripts allow-popups",onLoad:function(){return c(!0)},onError:function(){return s(!0)}})})},dt=function(e){return lt(void 0,void 0,void 0,(function(){return ct(this,(function(t){return[2,new Promise((function(t){return setTimeout(t,e)}))]}))}))},pt=function(e,t,r){return new Promise((function(n,i){if(ft(),r){var o=new Audio(r);return o.volume=t,o.onended=function(){n()},o.onerror=function(e){console.error("Audio playback error:",e),n()},void o.play().catch((function(e){console.error("Failed to play audio:",e),n()}))}var s=window.speechSynthesis,a=new SpeechSynthesisUtterance(e);a.volume=t,a.onend=function(){n()},a.onerror=function(e){n()},s.speak(a)}))},ft=function(){window.speechSynthesis.cancel();for(var e=document.getElementsByTagName("audio"),t=0;t<e.length;t++)e[t].pause()};function gt(e){var t,r=e.filename;switch(null===(t=r.split(".").pop())||void 0===t?void 0:t.toLowerCase()){case"js":return(0,n.jsx)(ze,{height:"20"});case"ts":return(0,n.jsx)(Ke,{height:"20"});case"go":return(0,n.jsx)(Ve,{height:"20"});case"sh":case"zsh":return(0,n.jsx)(Ge,{height:"20"});case"yaml":return(0,n.jsx)(Je,{height:"20"});case"cs":return(0,n.jsx)(Fe,{height:"20"});case"cpp":return(0,n.jsx)(Ie,{height:"20"});case"jsx":return(0,n.jsx)(qe,{height:"20"});case"tsx":return(0,n.jsx)(Xe,{height:"20"});case"env":case"toml":return(0,n.jsx)(He,{height:"20"});case"gitignore":return(0,n.jsx)(Be,{height:"20"});case"md":return(0,n.jsx)(_e,{height:"20"});case"py":return(0,n.jsx)(Ue,{height:"20"});case"rs":return(0,n.jsx)(Ye,{height:"20"});case"txt":return(0,n.jsx)(Ze,{height:"20"});default:return"LICENSE"===r.toUpperCase()?(0,n.jsx)(We,{height:"20"}):(0,n.jsx)($e,{height:"20"})}}function mt(e){var t=e.theme,r=e.currentFileName,i=e.fileStructure,o=e.fileExplorerWidth,s=function(e,t,i){void 0===t&&(t="");var o=Object.entries(e).sort((function(e,t){var r="directory"===e[1].type;return r===("directory"===t[1].type)?e[0].localeCompare(t[0]):r?-1:1}));return o.map((function(e){var o=e[0],a=e[1],l=t?"".concat(t,"/").concat(o):o,c="directory"===a.type,u=0===i?"0":"4",h=i+1;return(0,n.jsxs)(ce.x,{ml:u,children:[(0,n.jsxs)(ue.k,{"data-codevideo-id":"file-explorer-".concat(l),align:"center",gap:"2",style:{backgroundColor:r===l?"var(--mint-2)":"transparent",width:r===l?"100%":"auto"},children:[c?(0,n.jsx)(Qe,{height:"20"}):(0,n.jsx)(gt,{filename:o}),(0,n.jsx)(Ce,{style:{fontFamily:"Fira Code, monospace",color:"#CCCECC",fontSize:"0.9em"},children:o})]}),c&&a.children&&s(a.children,l,h)]},l)}))};return i?(0,n.jsx)(ce.x,{p:"1",style:{height:"100%",width:o?"".concat(o,"px"):"250px",borderRight:"1px solid var(--gray-7)",backgroundColor:"light"===t?"var(--gray-5)":"var(--gray-4)",pointerEvents:"none",userSelect:"none"},children:(0,n.jsx)(ce.x,{p:"2",children:s(i,"",0)})}):(0,n.jsx)(n.Fragment,{})}function vt(e){var t=e.theme,r=e.terminalBuffer,o=e.terminalHeight,s=(0,i.useRef)(null);return(0,i.useEffect)((function(){s.current&&(s.current.scrollTop=s.current.scrollHeight)}),[r]),0===r.length?(0,n.jsx)(ce.x,{style:{backgroundColor:"light"===t?"var(--gray-5)":"var(--gray-4)",height:o?"".concat(o,"px"):"150px",borderTop:"1px solid var(--gray-7)"}}):(0,n.jsx)(ce.x,{"data-codevideo-id":"terminal",ref:s,style:{borderTop:"1px solid var(--gray-7)",height:o?"".concat(o,"px"):"150px",backgroundColor:"light"===t?"var(--gray-5)":"var(--gray-4)",fontFamily:"Fira Code, monospace",padding:"8px",position:"relative",overflow:"auto",scrollBehavior:"smooth"},children:(0,n.jsxs)(ce.x,{style:{whiteSpace:"pre-wrap",wordBreak:"break-word",fontWeight:"bold",width:"100%"},children:[r,(0,n.jsx)(ce.x,{style:{display:"inline-block",width:"2px",height:"19px",marginBottom:"-4px",backgroundColor:"var(--gray-12)",animation:"blink 1.5s cubic-bezier(0.4, 0, 0.6, 1) infinite"}})]})})}var yt=function(e){var t=e.mode,r=e.mouseVisible,o=e.mousePosition,s=e.mouseColor,a=(0,i.useRef)(null);if(!r)return(0,n.jsx)(n.Fragment,{});var l="replay"===t?"transform 0.75s ease-in-out":void 0;return(0,n.jsx)(ce.x,{id:"mouse-overlay",ref:a,style:{transform:"translate(".concat(o.x,"px, ").concat(o.y,"px) scale(0.8)"),transition:l,zIndex:1e8,position:"absolute",pointerEvents:"none",userSelect:"none"},children:(0,n.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"M 0,0 L 0,20 L 4.5,15.5 L 8.75,23 L 11,22 L 6.75,15 L 13.75,15 Z",fill:s||"black",stroke:"white",strokeWidth:"1.5",strokeLinejoin:"round"})})})},wt=function(e,t){if(!t)return{x:0,y:0};if(!(null==t?void 0:t.current))return e;var r=t.current.getBoundingClientRect();return{x:e.x-r.left,y:e.y-r.top}},xt=function(e){if(!e)return{x:0,y:0};var t=document.querySelector('[data-codevideo-id="terminal"]');if(!t)return{x:0,y:0};var r=t.getBoundingClientRect();return wt({x:r.left+20,y:r.top+20},e)},bt=function(e){if(!e)return{x:0,y:0};var t=document.querySelector('[data-codevideo-id="editor"]');if(!t)return{x:0,y:0};var r=t.getBoundingClientRect();return wt({x:r.left+50,y:r.top+50},e)},Ct=function(e,t){if(!t)return{x:0,y:0};console.log("fileOrFolderPath",e);var r=document.querySelector('[data-codevideo-id="file-explorer-'.concat(e,'"]'));if(!r)return{x:0,y:0};var n=r.getBoundingClientRect();return wt({x:n.left+n.width/2,y:n.top+n.height/2},t)},Et=function(e,t){if(!t)return{x:0,y:0};var r=e.split(",");return 2==r.length?wt({x:r[0]?parseInt(r[0]):0,y:r[1]?parseInt(r[1]):0},t):{x:0,y:0}};function Pt(e){var t=e.captionText;return(0,n.jsx)(n.Fragment,{children:t&&(0,n.jsx)(ce.x,{style:{width:"100%",color:"white",position:"absolute",bottom:65},children:(0,n.jsx)(ue.k,{justify:"center",align:"center",children:(0,n.jsx)(ce.x,{style:{maxWidth:"80%",backgroundColor:"var(--black-a9)",padding:"4px 8px"},children:(0,n.jsx)(Ce,{size:"6",children:t})})})})})}var Rt=function(e,t,r){var n,i,o,s=Le(e,r),a=s.slice(0,t+1),l=new ot(e,void 0,!0);l.applyActions(a);var c=l.getCourseSnapshot(),u=c.editorSnapshot.editors,h=(null==u?void 0:u.find((function(e){return e.isActive})))||(null==u?void 0:u[0])||{filename:"",content:"",caretPosition:at,highlightCoordinates:null,isActive:!1,isSaved:!1};return{editors:u,currentEditor:h,currentFilename:h.filename,fileStructure:c.fileExplorerSnapshot.fileStructure,currentCode:h?h.content:"",currentCaretPosition:l.virtualEditors&&l.virtualEditors.length>0&&(null===(n=l.virtualEditors[0])||void 0===n?void 0:n.virtualEditor.getCurrentCaretPosition())||at,currentTerminalBuffer:l.virtualTerminals.length>0&&(null===(i=l.virtualTerminals[0])||void 0===i?void 0:i.getBuffer().join("\n"))||"",captionText:(null===(o=null==c?void 0:c.authorSnapshot.authors[0])||void 0===o?void 0:o.currentSpeechCaption)||"",actions:s}};function jt(e){var t=this,r=e.theme,o=e.project,s=e.mode,a=e.allowFocusInEditor,l=e.defaultLanguage,c=e.isExternalBrowserStepUrl,u=e.currentActionIndex,h=e.currentLessonIndex,d=e.isSoundOn,p=e.withCaptions,f=e.actionFinishedCallback,g=e.speakActionAudios,m=e.fileExplorerWidth,v=e.terminalHeight,y=e.mouseColor,w="record"===s,x=(0,i.useState)(),b=x[0],C=x[1],E=(0,i.useState)(),P=E[0],R=E[1],j=(0,i.useState)(),S=j[0],k=j[1],A=(0,i.useState)(),L=A[0],O=A[1],T=(0,i.useState)(""),D=T[0],N=T[1],M=(0,i.useState)(""),$=M[0],I=M[1],F=(0,i.useState)({x:0,y:0}),H=F[0],B=F[1],V=(0,i.useState)(at),z=V[0],W=V[1],_=(0,i.useState)(""),U=_[0],q=_[1],X=(0,i.useState)(l),Y=X[0],G=X[1],Z=(0,i.useRef)(null),K=(0,i.useRef)(void 0),J=(0,i.useRef)(void 0);(0,i.useRef)(new Set),(0,i.useRef)(s),(0,i.useRef)(!0);var Q=function(){var e=Rt(o,u,h),t=e.editors,r=e.currentEditor,n=e.currentFilename,i=e.fileStructure,s=e.currentCode,a=e.currentCaretPosition,l=e.currentTerminalBuffer,c=e.captionText,d=e.actions;C(t),R(r),k(n),O(i),N(s),W(a),I(l),q(c),ee(d)},ee=function(e){return lt(t,void 0,void 0,(function(){var t,r,n;return ct(this,(function(i){switch(i.label){case 0:return 0===u&&"step"===s?(null==Z?void 0:Z.current)?(t=Z.current.getBoundingClientRect(),B({x:t.width/2,y:t.height/2}),[2]):[2]:(r=e[u])?(n={x:H.x,y:H.y},[4,dt(100)]):[2];case 1:switch(i.sent(),r.name){case"mouse-click-terminal":case"terminal-open":n=xt(Z);break;case"mouse-click-editor":case"editor-type":n=bt(Z);break;case"file-explorer-create-folder":case"file-explorer-create-file":case"file-explorer-open-file":case"mouse-click-filename":n=Ct(r.value,Z);break;case"mouse-move":n=Et(r.value,Z)}return B(n),[2]}}))}))};(0,i.useEffect)((function(){var e,t,r=Le(o,h);if(d&&"step"===s&&(null===(e=r[u])||void 0===e?void 0:e.name.startsWith("author-"))){var n=r[u],i=null===(t=g.find((function(e){return e.text===n.value})))||void 0===t?void 0:t.mp3Url;pt(r[u].value,1,i)}else ft()}),[d,o,u,h]),(0,i.useEffect)((function(){if("step"===s)return console.log("updating state for step mode"),void Q();"replay"===s&&(0===u&&Q(),lt(t,void 0,void 0,(function(){var e;return ct(this,(function(t){switch(t.label){case 0:return e=Le(o,h),K.current&&e[u]?[4,kt(K.current,o,u,h,e[u],d,C,R,k,W,I,H,Z,B,q,g)]:[3,2];case 1:t.sent(),t.label=2;case 2:return Q(),f(),[2]}}))})))}),[s,u,o]);return(0,i.useEffect)((function(){K.current&&"step"===s&&(K.current.setPosition({lineNumber:z.row,column:z.col}),K.current.revealPositionInCenter({lineNumber:z.row,column:z.col}),a&&K.current.focus())}),[z,a]),(0,i.useEffect)((function(){K.current&&K.current.revealLineInCenter(z.row)}),[z.row]),(0,i.useEffect)((function(){if(S){var e=function(e){var t;if(!e)return"plaintext";var r=null===(t=e.split(".").pop())||void 0===t?void 0:t.toLowerCase(),n={js:"javascript",jsx:"javascript",ts:"typescript",tsx:"typescript",py:"python",html:"html",css:"css",json:"json",md:"markdown",php:"php",java:"java",c:"c",cpp:"cpp",cs:"csharp",go:"go",rb:"ruby",rs:"rust",sh:"shell",sql:"sql",yaml:"yaml",yml:"yaml"};return r&&r in n?n[r]:"plaintext"}(S);if(G(e),K.current&&J.current){var t=K.current.getModel();t&&J.current.editor.setModelLanguage(t,e)}}}),[S]),(0,n.jsxs)(ue.k,{direction:"column",style:{height:"100%",width:"100%"},id:"advanced-editor",children:[(0,n.jsxs)(ue.k,{direction:"row",style:{height:"100%",overflow:"hidden",position:"relative"},ref:Z,children:[null!==c?(0,n.jsx)(ue.k,{direction:"row",style:{height:"100%",width:"100%",borderRadius:"var(--radius-3)",position:"relative"},ref:Z,children:(0,n.jsx)(ht,{url:c})}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(mt,{theme:r,currentFileName:S,fileStructure:L,fileExplorerWidth:m}),(0,n.jsxs)(ue.k,{direction:"column",width:"100%",children:[(0,n.jsx)(ut,{theme:r,editors:b||[]}),(0,n.jsxs)(ce.x,{"data-codevideo-id":"editor",style:{flex:1,position:"relative",userSelect:w?"auto":"none"},children:[(0,n.jsx)(ce.x,{style:{display:b&&0===b.length?"block":"none",backgroundColor:"light"===r?"var(--gray-5)":"var(--gray-4)",height:"100%",width:"100%"}}),(0,n.jsx)(ce.x,{style:{display:b&&0===b.length?"none":"block",backgroundColor:"light"===r?"var(--gray-5)":"var(--gray-4)",height:"100%",width:"100%",pointerEvents:w?"auto":"none",cursor:w?"auto":"none",userSelect:w?"auto":"none"},children:(0,n.jsx)(le,{path:null==P?void 0:P.filename,theme:"light"===r?"vs":"vs-dark",className:"no-mouse ".concat(b&&0===b.length?"display-none":"display-block"),value:w||"replay"===s?void 0:D,defaultValue:w?D:void 0,defaultLanguage:l,options:{automaticLayout:!0,minimap:{enabled:!0},scrollBeyondLastLine:!0,fontSize:14,fontFamily:"Fira Code, monospace",fontLigatures:!0,readOnly:"step"===s,lineNumbers:"on",renderWhitespace:"selection",bracketPairColorization:{enabled:!0},matchBrackets:"never",formatOnPaste:!0,formatOnType:!0},onMount:function(e,t){K.current=e,J.current=t;var r=t.editor.createModel(D,Y);e.setModel(r)}})})]}),(0,n.jsx)(vt,{theme:r,terminalBuffer:$,terminalHeight:v})]})]}),(0,n.jsx)(yt,{mode:s,mouseVisible:!0,mousePosition:H,mouseColor:y})]}),p&&(0,n.jsx)(Pt,{captionText:U})]})}var St=function(e,t){return new Promise((function(r){var n=t.split(""),i=0;!function t(){if(i<n.length){var o=n[i],s=e.getSelection();e.executeEdits("simulateTyping",[{range:{startLineNumber:(null==s?void 0:s.selectionStartLineNumber)||1,startColumn:(null==s?void 0:s.selectionStartColumn)||1,endLineNumber:(null==s?void 0:s.endLineNumber)||1,endColumn:(null==s?void 0:s.endColumn)||1},text:o||"",forceMoveMarkers:!0}]),e.focus(),i++,setTimeout(t,st)}else r()}()}))},kt=function(e,t,r,n,i,o,s,a,l,c,u,h,d,p,f,g){return lt(void 0,void 0,void 0,(function(){var m,v,y,w,x,b,C,E,P,R,j,S;return ct(this,(function(k){switch(k.label){case 0:return m=-1,"file-explorer-open-file"===i.name?[3,1]:[3,3];case 1:return console.log("SET CURRENT FILE to ",i.value),v=Rt(t,r,n),y=v.editors,w=v.currentEditor,x=v.currentFilename,b=v.currentCaretPosition,s(y),a(w),l(x),[4,dt(1e3)];case 2:return k.sent(),c(b),[3,3];case 3:return[4,dt(100)];case 4:switch(k.sent(),C={x:h.x,y:h.y},i.name){case"mouse-click-terminal":case"terminal-open":C=xt(d);break;case"mouse-click-editor":case"editor-type":C=bt(d);break;case"file-explorer-create-folder":case"file-explorer-create-file":case"file-explorer-open-file":case"mouse-click-filename":C=Ct(i.value,d);break;case"mouse-move":C=Et(i.value,d)}p(C),E=parseInt(i.value)||1,P=e.getPosition(),R=function(t){var r,n,s,a,l,c;return ct(this,(function(t){switch(t.label){case 0:switch(!0,!0){case i.name.startsWith("external-"):return[3,1];case i.name.startsWith("author-"):return[3,3];case"terminal-type"===i.name:return[3,5];case"editor-arrow-down"===i.name&&null!==P:return[3,10];case"editor-arrow-up"===i.name&&null!==P:return[3,12];case"editor-tab"===i.name&&null!==P:return[3,14];case"editor-arrow-left"===i.name&&null!==P:return[3,16];case"editor-arrow-right"===i.name&&null!==P:return[3,18];case"editor-enter"===i.name:return[3,20];case"editor-command-right"===i.name&&null!==P:return[3,22];case"editor-space"===i.name:return[3,24];case"editor-backspace"===i.name:return[3,26];case"editor-type"===i.name:return[3,28]}return[3,30];case 1:return[4,dt(5e3)];case 2:return t.sent(),[3,32];case 3:return f(i.value),r=null===(S=g.find((function(e){return e.text===i.value})))||void 0===S?void 0:S.mp3Url,[4,pt(i.value,o?1:0,r)];case 4:return t.sent(),[3,32];case 5:if(n=i.value,s=n.split("\n"),!(a=s[s.length-1]))return[3,9];l=function(e){return ct(this,(function(t){switch(t.label){case 0:return u((function(t){return t+a[e]})),[4,dt(100)];case 1:return t.sent(),[2]}}))},c=0,t.label=6;case 6:return c<a.length?[5,l(c)]:[3,9];case 7:t.sent(),t.label=8;case 8:return c++,[3,6];case 9:return[3,32];case 10:return P.lineNumber=P.lineNumber+1,e.setPosition(P),[4,dt(st)];case 11:return t.sent(),[3,32];case 12:return P.lineNumber=P.lineNumber-1,e.setPosition(P),[4,dt(st)];case 13:return t.sent(),[3,32];case 14:return P.lineNumber=P.lineNumber+2,e.setPosition(P),[4,dt(st)];case 15:return t.sent(),[3,32];case 16:return P.column=P.column-1,e.setPosition(P),[4,dt(st)];case 17:return t.sent(),[3,32];case 18:return P.column=P.column+1,e.setPosition(P),[4,dt(st)];case 19:return t.sent(),[3,32];case 20:return[4,St(e,"\n")];case 21:return t.sent(),[3,32];case 22:return P.column=1e5,e.setPosition(P),[4,dt(st)];case 23:return t.sent(),[3,32];case 24:return[4,St(e," ")];case 25:return t.sent(),[3,32];case 26:return"undefined"!=typeof window&&e.trigger(1,"deleteLeft"),[4,dt(st)];case 27:return t.sent(),[3,32];case 28:return[4,St(e,i.value)];case 29:return t.sent(),[3,32];case 30:return[4,dt(1e3)];case 31:return t.sent(),console.warn("Unable to apply action",i),[3,32];case 32:return[2]}}))},j=0,k.label=5;case 5:return j<E?[5,R(j)]:[3,8];case 6:k.sent(),k.label=7;case 7:return j++,[3,5];case 8:return[2,m]}}))}))}},8771:function(e,t,r){"use strict";r.d(t,{F:function(){return o},e:function(){return s}});var n=r(7294);function i(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function o(...e){return t=>{let r=!1;const n=e.map((e=>{const n=i(e,t);return r||"function"!=typeof n||(r=!0),n}));if(r)return()=>{for(let t=0;t<n.length;t++){const r=n[t];"function"==typeof r?r():i(e[t],null)}}}}function s(...e){return n.useCallback(o(...e),e)}},8426:function(e,t,r){"use strict";r.d(t,{A4:function(){return l},fC:function(){return u},g7:function(){return s}});var n=r(7294),i=r(8771),o=r(5893),s=n.forwardRef(((e,t)=>{const{children:r,...i}=e,s=n.Children.toArray(r),l=s.find(c);if(l){const e=l.props.children,r=s.map((t=>t===l?n.Children.count(e)>1?n.Children.only(null):n.isValidElement(e)?e.props.children:null:t));return(0,o.jsx)(a,{...i,ref:t,children:n.isValidElement(e)?n.cloneElement(e,void 0,r):null})}return(0,o.jsx)(a,{...i,ref:t,children:r})}));s.displayName="Slot";var a=n.forwardRef(((e,t)=>{const{children:r,...o}=e;if(n.isValidElement(r)){const e=function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;if(r)return e.ref;if(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r)return e.props.ref;return e.props.ref||e.ref}(r),s=function(e,t){const r={...t};for(const n in t){const i=e[n],o=t[n];/^on[A-Z]/.test(n)?i&&o?r[n]=(...e)=>{o(...e),i(...e)}:i&&(r[n]=i):"style"===n?r[n]={...i,...o}:"className"===n&&(r[n]=[i,o].filter(Boolean).join(" "))}return{...e,...r}}(o,r.props);return r.type!==n.Fragment&&(s.ref=t?(0,i.F)(t,e):e),n.cloneElement(r,s)}return n.Children.count(r)>1?n.Children.only(null):null}));a.displayName="SlotClone";var l=({children:e})=>(0,o.jsx)(o.Fragment,{children:e});function c(e){return n.isValidElement(e)&&e.type===l}var u=s},5564:function(e,t,r){"use strict";r.d(t,{x:function(){return u}});var n=r(7294),i=r(3967),o=r(8903);const s={as:{type:"enum",values:["div","span"],default:"div"},...r(407).C,display:{type:"enum",className:"rt-r-display",values:["none","inline","inline-block","block","contents"],responsive:!0}};var a=r(3928),l=r(339),c=r(5638);const u=n.forwardRef(((e,t)=>{const{className:r,asChild:u,as:h="div",...d}=(0,a.y)(e,s,l.P,c.E);return n.createElement(u?o.g7:h,{...d,ref:t,className:i("rt-Box",r)})}));u.displayName="Box"},3477:function(e,t,r){"use strict";r.d(t,{k:function(){return d}});var n=r(7294),i=r(3967),o=r(3928),s=r(339),a=r(5638),l=r(8903);const c=["0","1","2","3","4","5","6","7","8","9"],u={gap:{type:"enum | string",className:"rt-r-gap",customProperties:["--gap"],values:c,responsive:!0},gapX:{type:"enum | string",className:"rt-r-cg",customProperties:["--column-gap"],values:c,responsive:!0},gapY:{type:"enum | string",className:"rt-r-rg",customProperties:["--row-gap"],values:c,responsive:!0}},h={as:{type:"enum",values:["div","span"],default:"div"},...r(407).C,display:{type:"enum",className:"rt-r-display",values:["none","inline-flex","flex"],responsive:!0},direction:{type:"enum",className:"rt-r-fd",values:["row","column","row-reverse","column-reverse"],responsive:!0},align:{type:"enum",className:"rt-r-ai",values:["start","center","end","baseline","stretch"],responsive:!0},justify:{type:"enum",className:"rt-r-jc",values:["start","center","end","between"],parseValue:function(e){return"between"===e?"space-between":e},responsive:!0},wrap:{type:"enum",className:"rt-r-fw",values:["nowrap","wrap","wrap-reverse"],responsive:!0},...u};const d=n.forwardRef(((e,t)=>{const{className:r,asChild:c,as:u="div",...d}=(0,o.y)(e,h,s.P,a.E);return n.createElement(c?l.g7:u,{...d,ref:t,className:i("rt-Flex",r)})}));d.displayName="Flex"},8903:function(e,t,r){"use strict";r.d(t,{g7:function(){return i}});var n=r(8426);n.fC;const i=n.fC;n.A4},9034:function(e,t,r){"use strict";r.d(t,{Q2:function(){return dr}});var n=r(7294),i=r.t(n,2),o=r(3967);function s(e,t,{checkForDefaultPrevented:r=!0}={}){return function(n){if(e?.(n),!1===r||!n.defaultPrevented)return t?.(n)}}var a=r(8771),l=r(5893);function c(e,t=[]){let r=[];const i=()=>{const t=r.map((e=>n.createContext(e)));return function(r){const i=r?.[e]||t;return n.useMemo((()=>({[`__scope${e}`]:{...r,[e]:i}})),[r,i])}};return i.scopeName=e,[function(t,i){const o=n.createContext(i),s=r.length;r=[...r,i];const a=t=>{const{scope:r,children:i,...a}=t,c=r?.[e]?.[s]||o,u=n.useMemo((()=>a),Object.values(a));return(0,l.jsx)(c.Provider,{value:u,children:i})};return a.displayName=t+"Provider",[a,function(r,a){const l=a?.[e]?.[s]||o,c=n.useContext(l);if(c)return c;if(void 0!==i)return i;throw new Error(`\`${r}\` must be used within \`${t}\``)}]},u(i,...t)]}function u(...e){const t=e[0];if(1===e.length)return t;const r=()=>{const r=e.map((e=>({useScope:e(),scopeName:e.scopeName})));return function(e){const i=r.reduce(((t,{useScope:r,scopeName:n})=>({...t,...r(e)[`__scope${n}`]})),{});return n.useMemo((()=>({[`__scope${t.scopeName}`]:i})),[i])}};return r.scopeName=t.scopeName,r}var h=r(3935),d=r(8426),p=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce(((e,t)=>{const r=n.forwardRef(((e,r)=>{const{asChild:n,...i}=e,o=n?d.g7:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,l.jsx)(o,{...i,ref:r})}));return r.displayName=`Primitive.${t}`,{...e,[t]:r}}),{});function f(e){const t=n.useRef(e);return n.useEffect((()=>{t.current=e})),n.useMemo((()=>(...e)=>t.current?.(...e)),[])}var g,m="dismissableLayer.update",v="dismissableLayer.pointerDownOutside",y="dismissableLayer.focusOutside",w=n.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),x=n.forwardRef(((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:c,onInteractOutside:u,onDismiss:h,...d}=e,x=n.useContext(w),[b,P]=n.useState(null),R=b?.ownerDocument??globalThis?.document,[,j]=n.useState({}),S=(0,a.e)(t,(e=>P(e))),k=Array.from(x.layers),[A]=[...x.layersWithOutsidePointerEventsDisabled].slice(-1),L=k.indexOf(A),O=b?k.indexOf(b):-1,T=x.layersWithOutsidePointerEventsDisabled.size>0,D=O>=L,N=function(e,t=globalThis?.document){const r=f(e),i=n.useRef(!1),o=n.useRef((()=>{}));return n.useEffect((()=>{const e=e=>{if(e.target&&!i.current){let n=function(){E(v,r,i,{discrete:!0})};const i={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",o.current),o.current=n,t.addEventListener("click",o.current,{once:!0})):n()}else t.removeEventListener("click",o.current);i.current=!1},n=window.setTimeout((()=>{t.addEventListener("pointerdown",e)}),0);return()=>{window.clearTimeout(n),t.removeEventListener("pointerdown",e),t.removeEventListener("click",o.current)}}),[t,r]),{onPointerDownCapture:()=>i.current=!0}}((e=>{const t=e.target,r=[...x.branches].some((e=>e.contains(t)));D&&!r&&(o?.(e),u?.(e),e.defaultPrevented||h?.())}),R),M=function(e,t=globalThis?.document){const r=f(e),i=n.useRef(!1);return n.useEffect((()=>{const e=e=>{if(e.target&&!i.current){E(y,r,{originalEvent:e},{discrete:!1})}};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)}),[t,r]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}((e=>{const t=e.target;[...x.branches].some((e=>e.contains(t)))||(c?.(e),u?.(e),e.defaultPrevented||h?.())}),R);return function(e,t=globalThis?.document){const r=f(e);n.useEffect((()=>{const e=e=>{"Escape"===e.key&&r(e)};return t.addEventListener("keydown",e,{capture:!0}),()=>t.removeEventListener("keydown",e,{capture:!0})}),[r,t])}((e=>{O===x.layers.size-1&&(i?.(e),!e.defaultPrevented&&h&&(e.preventDefault(),h()))}),R),n.useEffect((()=>{if(b)return r&&(0===x.layersWithOutsidePointerEventsDisabled.size&&(g=R.body.style.pointerEvents,R.body.style.pointerEvents="none"),x.layersWithOutsidePointerEventsDisabled.add(b)),x.layers.add(b),C(),()=>{r&&1===x.layersWithOutsidePointerEventsDisabled.size&&(R.body.style.pointerEvents=g)}}),[b,R,r,x]),n.useEffect((()=>()=>{b&&(x.layers.delete(b),x.layersWithOutsidePointerEventsDisabled.delete(b),C())}),[b,x]),n.useEffect((()=>{const e=()=>j({});return document.addEventListener(m,e),()=>document.removeEventListener(m,e)}),[]),(0,l.jsx)(p.div,{...d,ref:S,style:{pointerEvents:T?D?"auto":"none":void 0,...e.style},onFocusCapture:s(e.onFocusCapture,M.onFocusCapture),onBlurCapture:s(e.onBlurCapture,M.onBlurCapture),onPointerDownCapture:s(e.onPointerDownCapture,N.onPointerDownCapture)})}));x.displayName="DismissableLayer";var b=n.forwardRef(((e,t)=>{const r=n.useContext(w),i=n.useRef(null),o=(0,a.e)(t,i);return n.useEffect((()=>{const e=i.current;if(e)return r.branches.add(e),()=>{r.branches.delete(e)}}),[r.branches]),(0,l.jsx)(p.div,{...e,ref:o})}));function C(){const e=new CustomEvent(m);document.dispatchEvent(e)}function E(e,t,r,{discrete:n}){const i=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?function(e,t){e&&h.flushSync((()=>e.dispatchEvent(t)))}(i,o):i.dispatchEvent(o)}b.displayName="DismissableLayerBranch";var P=Boolean(globalThis?.document)?n.useLayoutEffect:()=>{},R=i["useId".toString()]||(()=>{}),j=0;const S=["top","right","bottom","left"],k=Math.min,A=Math.max,L=Math.round,O=Math.floor,T=e=>({x:e,y:e}),D={left:"right",right:"left",bottom:"top",top:"bottom"},N={start:"end",end:"start"};function M(e,t,r){return A(e,k(t,r))}function $(e,t){return"function"==typeof e?e(t):e}function I(e){return e.split("-")[0]}function F(e){return e.split("-")[1]}function H(e){return"x"===e?"y":"x"}function B(e){return"y"===e?"height":"width"}function V(e){return["top","bottom"].includes(I(e))?"y":"x"}function z(e){return H(V(e))}function W(e){return e.replace(/start|end/g,(e=>N[e]))}function _(e){return e.replace(/left|right|bottom|top/g,(e=>D[e]))}function U(e){return"number"!=typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function q(e){const{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}function X(e,t,r){let{reference:n,floating:i}=e;const o=V(t),s=z(t),a=B(s),l=I(t),c="y"===o,u=n.x+n.width/2-i.width/2,h=n.y+n.height/2-i.height/2,d=n[a]/2-i[a]/2;let p;switch(l){case"top":p={x:u,y:n.y-i.height};break;case"bottom":p={x:u,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:h};break;case"left":p={x:n.x-i.width,y:h};break;default:p={x:n.x,y:n.y}}switch(F(t)){case"start":p[s]-=d*(r&&c?-1:1);break;case"end":p[s]+=d*(r&&c?-1:1)}return p}async function Y(e,t){var r;void 0===t&&(t={});const{x:n,y:i,platform:o,rects:s,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:d=!1,padding:p=0}=$(t,e),f=U(p),g=a[d?"floating"===h?"reference":"floating":h],m=q(await o.getClippingRect({element:null==(r=await(null==o.isElement?void 0:o.isElement(g)))||r?g:g.contextElement||await(null==o.getDocumentElement?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),v="floating"===h?{x:n,y:i,width:s.floating.width,height:s.floating.height}:s.reference,y=await(null==o.getOffsetParent?void 0:o.getOffsetParent(a.floating)),w=await(null==o.isElement?void 0:o.isElement(y))&&await(null==o.getScale?void 0:o.getScale(y))||{x:1,y:1},x=q(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:y,strategy:l}):v);return{top:(m.top-x.top+f.top)/w.y,bottom:(x.bottom-m.bottom+f.bottom)/w.y,left:(m.left-x.left+f.left)/w.x,right:(x.right-m.right+f.right)/w.x}}function G(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Z(e){return S.some((t=>e[t]>=0))}function K(){return"undefined"!=typeof window}function J(e){return te(e)?(e.nodeName||"").toLowerCase():"#document"}function Q(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function ee(e){var t;return null==(t=(te(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function te(e){return!!K()&&(e instanceof Node||e instanceof Q(e).Node)}function re(e){return!!K()&&(e instanceof Element||e instanceof Q(e).Element)}function ne(e){return!!K()&&(e instanceof HTMLElement||e instanceof Q(e).HTMLElement)}function ie(e){return!(!K()||"undefined"==typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof Q(e).ShadowRoot)}function oe(e){const{overflow:t,overflowX:r,overflowY:n,display:i}=he(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(i)}function se(e){return["table","td","th"].includes(J(e))}function ae(e){return[":popover-open",":modal"].some((t=>{try{return e.matches(t)}catch(r){return!1}}))}function le(e){const t=ce(),r=re(e)?he(e):e;return["transform","translate","scale","rotate","perspective"].some((e=>!!r[e]&&"none"!==r[e]))||!!r.containerType&&"normal"!==r.containerType||!t&&!!r.backdropFilter&&"none"!==r.backdropFilter||!t&&!!r.filter&&"none"!==r.filter||["transform","translate","scale","rotate","perspective","filter"].some((e=>(r.willChange||"").includes(e)))||["paint","layout","strict","content"].some((e=>(r.contain||"").includes(e)))}function ce(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function ue(e){return["html","body","#document"].includes(J(e))}function he(e){return Q(e).getComputedStyle(e)}function de(e){return re(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function pe(e){if("html"===J(e))return e;const t=e.assignedSlot||e.parentNode||ie(e)&&e.host||ee(e);return ie(t)?t.host:t}function fe(e){const t=pe(e);return ue(t)?e.ownerDocument?e.ownerDocument.body:e.body:ne(t)&&oe(t)?t:fe(t)}function ge(e,t,r){var n;void 0===t&&(t=[]),void 0===r&&(r=!0);const i=fe(e),o=i===(null==(n=e.ownerDocument)?void 0:n.body),s=Q(i);if(o){const e=me(s);return t.concat(s,s.visualViewport||[],oe(i)?i:[],e&&r?ge(e):[])}return t.concat(i,ge(i,[],r))}function me(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function ve(e){const t=he(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=ne(e),o=i?e.offsetWidth:r,s=i?e.offsetHeight:n,a=L(r)!==o||L(n)!==s;return a&&(r=o,n=s),{width:r,height:n,$:a}}function ye(e){return re(e)?e:e.contextElement}function we(e){const t=ye(e);if(!ne(t))return T(1);const r=t.getBoundingClientRect(),{width:n,height:i,$:o}=ve(t);let s=(o?L(r.width):r.width)/n,a=(o?L(r.height):r.height)/i;return s&&Number.isFinite(s)||(s=1),a&&Number.isFinite(a)||(a=1),{x:s,y:a}}const xe=T(0);function be(e){const t=Q(e);return ce()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:xe}function Ce(e,t,r,n){void 0===t&&(t=!1),void 0===r&&(r=!1);const i=e.getBoundingClientRect(),o=ye(e);let s=T(1);t&&(n?re(n)&&(s=we(n)):s=we(e));const a=function(e,t,r){return void 0===t&&(t=!1),!(!r||t&&r!==Q(e))&&t}(o,r,n)?be(o):T(0);let l=(i.left+a.x)/s.x,c=(i.top+a.y)/s.y,u=i.width/s.x,h=i.height/s.y;if(o){const e=Q(o),t=n&&re(n)?Q(n):n;let r=e,i=me(r);for(;i&&n&&t!==r;){const e=we(i),t=i.getBoundingClientRect(),n=he(i),o=t.left+(i.clientLeft+parseFloat(n.paddingLeft))*e.x,s=t.top+(i.clientTop+parseFloat(n.paddingTop))*e.y;l*=e.x,c*=e.y,u*=e.x,h*=e.y,l+=o,c+=s,r=Q(i),i=me(r)}}return q({width:u,height:h,x:l,y:c})}function Ee(e,t){const r=de(e).scrollLeft;return t?t.left+r:Ce(ee(e)).left+r}function Pe(e,t,r){void 0===r&&(r=!1);const n=e.getBoundingClientRect();return{x:n.left+t.scrollLeft-(r?0:Ee(e,n)),y:n.top+t.scrollTop}}function Re(e,t,r){let n;if("viewport"===t)n=function(e,t){const r=Q(e),n=ee(e),i=r.visualViewport;let o=n.clientWidth,s=n.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;const e=ce();(!e||e&&"fixed"===t)&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a,y:l}}(e,r);else if("document"===t)n=function(e){const t=ee(e),r=de(e),n=e.ownerDocument.body,i=A(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=A(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let s=-r.scrollLeft+Ee(e);const a=-r.scrollTop;return"rtl"===he(n).direction&&(s+=A(t.clientWidth,n.clientWidth)-i),{width:i,height:o,x:s,y:a}}(ee(e));else if(re(t))n=function(e,t){const r=Ce(e,!0,"fixed"===t),n=r.top+e.clientTop,i=r.left+e.clientLeft,o=ne(e)?we(e):T(1);return{width:e.clientWidth*o.x,height:e.clientHeight*o.y,x:i*o.x,y:n*o.y}}(t,r);else{const r=be(e);n={x:t.x-r.x,y:t.y-r.y,width:t.width,height:t.height}}return q(n)}function je(e,t){const r=pe(e);return!(r===t||!re(r)||ue(r))&&("fixed"===he(r).position||je(r,t))}function Se(e,t,r){const n=ne(t),i=ee(t),o="fixed"===r,s=Ce(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const l=T(0);if(n||!n&&!o)if(("body"!==J(t)||oe(i))&&(a=de(t)),n){const e=Ce(t,!0,o,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else i&&(l.x=Ee(i));const c=!i||n||o?T(0):Pe(i,a);return{x:s.left+a.scrollLeft-l.x-c.x,y:s.top+a.scrollTop-l.y-c.y,width:s.width,height:s.height}}function ke(e){return"static"===he(e).position}function Ae(e,t){if(!ne(e)||"fixed"===he(e).position)return null;if(t)return t(e);let r=e.offsetParent;return ee(e)===r&&(r=r.ownerDocument.body),r}function Le(e,t){const r=Q(e);if(ae(e))return r;if(!ne(e)){let t=pe(e);for(;t&&!ue(t);){if(re(t)&&!ke(t))return t;t=pe(t)}return r}let n=Ae(e,t);for(;n&&se(n)&&ke(n);)n=Ae(n,t);return n&&ue(n)&&ke(n)&&!le(n)?r:n||function(e){let t=pe(e);for(;ne(t)&&!ue(t);){if(le(t))return t;if(ae(t))return null;t=pe(t)}return null}(e)||r}const Oe={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e;const o="fixed"===i,s=ee(n),a=!!t&&ae(t.floating);if(n===s||a&&o)return r;let l={scrollLeft:0,scrollTop:0},c=T(1);const u=T(0),h=ne(n);if((h||!h&&!o)&&(("body"!==J(n)||oe(s))&&(l=de(n)),ne(n))){const e=Ce(n);c=we(n),u.x=e.x+n.clientLeft,u.y=e.y+n.clientTop}const d=!s||h||o?T(0):Pe(s,l,!0);return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-l.scrollLeft*c.x+u.x+d.x,y:r.y*c.y-l.scrollTop*c.y+u.y+d.y}},getDocumentElement:ee,getClippingRect:function(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e;const o=[..."clippingAncestors"===r?ae(t)?[]:function(e,t){const r=t.get(e);if(r)return r;let n=ge(e,[],!1).filter((e=>re(e)&&"body"!==J(e))),i=null;const o="fixed"===he(e).position;let s=o?pe(e):e;for(;re(s)&&!ue(s);){const t=he(s),r=le(s);r||"fixed"!==t.position||(i=null),(o?!r&&!i:!r&&"static"===t.position&&i&&["absolute","fixed"].includes(i.position)||oe(s)&&!r&&je(e,s))?n=n.filter((e=>e!==s)):i=t,s=pe(s)}return t.set(e,n),n}(t,this._c):[].concat(r),n],s=o[0],a=o.reduce(((e,r)=>{const n=Re(t,r,i);return e.top=A(n.top,e.top),e.right=k(n.right,e.right),e.bottom=k(n.bottom,e.bottom),e.left=A(n.left,e.left),e}),Re(t,s,i));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}},getOffsetParent:Le,getElementRects:async function(e){const t=this.getOffsetParent||Le,r=this.getDimensions,n=await r(e.floating);return{reference:Se(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:r}=ve(e);return{width:t,height:r}},getScale:we,isElement:re,isRTL:function(e){return"rtl"===he(e).direction}};function Te(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function De(e,t,r,n){void 0===n&&(n={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s="function"==typeof ResizeObserver,layoutShift:a="function"==typeof IntersectionObserver,animationFrame:l=!1}=n,c=ye(e),u=i||o?[...c?ge(c):[],...ge(t)]:[];u.forEach((e=>{i&&e.addEventListener("scroll",r,{passive:!0}),o&&e.addEventListener("resize",r)}));const h=c&&a?function(e,t){let r,n=null;const i=ee(e);function o(){var e;clearTimeout(r),null==(e=n)||e.disconnect(),n=null}return function s(a,l){void 0===a&&(a=!1),void 0===l&&(l=1),o();const c=e.getBoundingClientRect(),{left:u,top:h,width:d,height:p}=c;if(a||t(),!d||!p)return;const f={rootMargin:-O(h)+"px "+-O(i.clientWidth-(u+d))+"px "+-O(i.clientHeight-(h+p))+"px "+-O(u)+"px",threshold:A(0,k(1,l))||1};let g=!0;function m(t){const n=t[0].intersectionRatio;if(n!==l){if(!g)return s();n?s(!1,n):r=setTimeout((()=>{s(!1,1e-7)}),1e3)}1!==n||Te(c,e.getBoundingClientRect())||s(),g=!1}try{n=new IntersectionObserver(m,{...f,root:i.ownerDocument})}catch(v){n=new IntersectionObserver(m,f)}n.observe(e)}(!0),o}(c,r):null;let d,p=-1,f=null;s&&(f=new ResizeObserver((e=>{let[n]=e;n&&n.target===c&&f&&(f.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame((()=>{var e;null==(e=f)||e.observe(t)}))),r()})),c&&!l&&f.observe(c),f.observe(t));let g=l?Ce(e):null;return l&&function t(){const n=Ce(e);g&&!Te(g,n)&&r();g=n,d=requestAnimationFrame(t)}(),r(),()=>{var e;u.forEach((e=>{i&&e.removeEventListener("scroll",r),o&&e.removeEventListener("resize",r)})),null==h||h(),null==(e=f)||e.disconnect(),f=null,l&&cancelAnimationFrame(d)}}const Ne=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:i,y:o,placement:s,middlewareData:a}=t,l=await async function(e,t){const{placement:r,platform:n,elements:i}=e,o=await(null==n.isRTL?void 0:n.isRTL(i.floating)),s=I(r),a=F(r),l="y"===V(r),c=["left","top"].includes(s)?-1:1,u=o&&l?-1:1,h=$(t,e);let{mainAxis:d,crossAxis:p,alignmentAxis:f}="number"==typeof h?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&"number"==typeof f&&(p="end"===a?-1*f:f),l?{x:p*u,y:d*c}:{x:d*c,y:p*u}}(t,e);return s===(null==(r=a.offset)?void 0:r.placement)&&null!=(n=a.arrow)&&n.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:s}}}}},Me=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:i}=t,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:e=>{let{x:t,y:r}=e;return{x:t,y:r}}},...l}=$(e,t),c={x:r,y:n},u=await Y(t,l),h=V(I(i)),d=H(h);let p=c[d],f=c[h];if(o){const e="y"===d?"bottom":"right";p=M(p+u["y"===d?"top":"left"],p,p-u[e])}if(s){const e="y"===h?"bottom":"right";f=M(f+u["y"===h?"top":"left"],f,f-u[e])}const g=a.fn({...t,[d]:p,[h]:f});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[d]:o,[h]:s}}}}}},$e=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:d,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:f="none",flipAlignment:g=!0,...m}=$(e,t);if(null!=(r=o.arrow)&&r.alignmentOffset)return{};const v=I(i),y=V(a),w=I(a)===a,x=await(null==l.isRTL?void 0:l.isRTL(c.floating)),b=d||(w||!g?[_(a)]:function(e){const t=_(e);return[W(e),t,W(t)]}(a)),C="none"!==f;!d&&C&&b.push(...function(e,t,r,n){const i=F(e);let o=function(e,t,r){const n=["left","right"],i=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return r?t?i:n:t?n:i;case"left":case"right":return t?o:s;default:return[]}}(I(e),"start"===r,n);return i&&(o=o.map((e=>e+"-"+i)),t&&(o=o.concat(o.map(W)))),o}(a,g,f,x));const E=[a,...b],P=await Y(t,m),R=[];let j=(null==(n=o.flip)?void 0:n.overflows)||[];if(u&&R.push(P[v]),h){const e=function(e,t,r){void 0===r&&(r=!1);const n=F(e),i=z(e),o=B(i);let s="x"===i?n===(r?"end":"start")?"right":"left":"start"===n?"bottom":"top";return t.reference[o]>t.floating[o]&&(s=_(s)),[s,_(s)]}(i,s,x);R.push(P[e[0]],P[e[1]])}if(j=[...j,{placement:i,overflows:R}],!R.every((e=>e<=0))){var S,k;const e=((null==(S=o.flip)?void 0:S.index)||0)+1,t=E[e];if(t)return{data:{index:e,overflows:j},reset:{placement:t}};let r=null==(k=j.filter((e=>e.overflows[0]<=0)).sort(((e,t)=>e.overflows[1]-t.overflows[1]))[0])?void 0:k.placement;if(!r)switch(p){case"bestFit":{var A;const e=null==(A=j.filter((e=>{if(C){const t=V(e.placement);return t===y||"y"===t}return!0})).map((e=>[e.placement,e.overflows.filter((e=>e>0)).reduce(((e,t)=>e+t),0)])).sort(((e,t)=>e[1]-t[1]))[0])?void 0:A[0];e&&(r=e);break}case"initialPlacement":r=a}if(i!==r)return{reset:{placement:r}}}return{}}}},Ie=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:i,rects:o,platform:s,elements:a}=t,{apply:l=(()=>{}),...c}=$(e,t),u=await Y(t,c),h=I(i),d=F(i),p="y"===V(i),{width:f,height:g}=o.floating;let m,v;"top"===h||"bottom"===h?(m=h,v=d===(await(null==s.isRTL?void 0:s.isRTL(a.floating))?"start":"end")?"left":"right"):(v=h,m="end"===d?"top":"bottom");const y=g-u.top-u.bottom,w=f-u.left-u.right,x=k(g-u[m],y),b=k(f-u[v],w),C=!t.middlewareData.shift;let E=x,P=b;if(null!=(r=t.middlewareData.shift)&&r.enabled.x&&(P=w),null!=(n=t.middlewareData.shift)&&n.enabled.y&&(E=y),C&&!d){const e=A(u.left,0),t=A(u.right,0),r=A(u.top,0),n=A(u.bottom,0);p?P=f-2*(0!==e||0!==t?e+t:A(u.left,u.right)):E=g-2*(0!==r||0!==n?r+n:A(u.top,u.bottom))}await l({...t,availableWidth:P,availableHeight:E});const R=await s.getDimensions(a.floating);return f!==R.width||g!==R.height?{reset:{rects:!0}}:{}}}},Fe=function(e){return void 0===e&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...i}=$(e,t);switch(n){case"referenceHidden":{const e=G(await Y(t,{...i,elementContext:"reference"}),r.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:Z(e)}}}case"escaped":{const e=G(await Y(t,{...i,altBoundary:!0}),r.floating);return{data:{escapedOffsets:e,escaped:Z(e)}}}default:return{}}}}},He=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:i,rects:o,platform:s,elements:a,middlewareData:l}=t,{element:c,padding:u=0}=$(e,t)||{};if(null==c)return{};const h=U(u),d={x:r,y:n},p=z(i),f=B(p),g=await s.getDimensions(c),m="y"===p,v=m?"top":"left",y=m?"bottom":"right",w=m?"clientHeight":"clientWidth",x=o.reference[f]+o.reference[p]-d[p]-o.floating[f],b=d[p]-o.reference[p],C=await(null==s.getOffsetParent?void 0:s.getOffsetParent(c));let E=C?C[w]:0;E&&await(null==s.isElement?void 0:s.isElement(C))||(E=a.floating[w]||o.floating[f]);const P=x/2-b/2,R=E/2-g[f]/2-1,j=k(h[v],R),S=k(h[y],R),A=j,L=E-g[f]-S,O=E/2-g[f]/2+P,T=M(A,O,L),D=!l.arrow&&null!=F(i)&&O!==T&&o.reference[f]/2-(O<A?j:S)-g[f]/2<0,N=D?O<A?O-A:O-L:0;return{[p]:d[p]+N,data:{[p]:T,centerOffset:O-T-N,...D&&{alignmentOffset:N}},reset:D}}}),Be=function(e){return void 0===e&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:i,rects:o,middlewareData:s}=t,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=$(e,t),u={x:r,y:n},h=V(i),d=H(h);let p=u[d],f=u[h];const g=$(a,t),m="number"==typeof g?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const e="y"===d?"height":"width",t=o.reference[d]-o.floating[e]+m.mainAxis,r=o.reference[d]+o.reference[e]-m.mainAxis;p<t?p=t:p>r&&(p=r)}if(c){var v,y;const e="y"===d?"width":"height",t=["top","left"].includes(I(i)),r=o.reference[h]-o.floating[e]+(t&&(null==(v=s.offset)?void 0:v[h])||0)+(t?0:m.crossAxis),n=o.reference[h]+o.reference[e]+(t?0:(null==(y=s.offset)?void 0:y[h])||0)-(t?m.crossAxis:0);f<r?f=r:f>n&&(f=n)}return{[d]:p,[h]:f}}}},Ve=(e,t,r)=>{const n=new Map,i={platform:Oe,...r},o={...i.platform,_c:n};return(async(e,t,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:o=[],platform:s}=r,a=o.filter(Boolean),l=await(null==s.isRTL?void 0:s.isRTL(t));let c=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:h}=X(c,n,l),d=n,p={},f=0;for(let g=0;g<a.length;g++){const{name:r,fn:o}=a[g],{x:m,y:v,data:y,reset:w}=await o({x:u,y:h,initialPlacement:n,placement:d,strategy:i,middlewareData:p,rects:c,platform:s,elements:{reference:e,floating:t}});u=null!=m?m:u,h=null!=v?v:h,p={...p,[r]:{...p[r],...y}},w&&f<=50&&(f++,"object"==typeof w&&(w.placement&&(d=w.placement),w.rects&&(c=!0===w.rects?await s.getElementRects({reference:e,floating:t,strategy:i}):w.rects),({x:u,y:h}=X(c,d,l))),g=-1)}return{x:u,y:h,placement:d,strategy:i,middlewareData:p}})(e,t,{...i,platform:o})};var ze="undefined"!=typeof document?n.useLayoutEffect:n.useEffect;function We(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;let r,n,i;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;0!=n--;)if(!We(e[n],t[n]))return!1;return!0}if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;0!=n--;)if(!{}.hasOwnProperty.call(t,i[n]))return!1;for(n=r;0!=n--;){const r=i[n];if(("_owner"!==r||!e.$$typeof)&&!We(e[r],t[r]))return!1}return!0}return e!=e&&t!=t}function _e(e){if("undefined"==typeof window)return 1;return(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Ue(e,t){const r=_e(e);return Math.round(t*r)/r}function qe(e){const t=n.useRef(e);return ze((()=>{t.current=e})),t}const Xe=e=>({name:"arrow",options:e,fn(t){const{element:r,padding:n}="function"==typeof e?e(t):e;return r&&(i=r,{}.hasOwnProperty.call(i,"current"))?null!=r.current?He({element:r.current,padding:n}).fn(t):{}:r?He({element:r,padding:n}).fn(t):{};var i}}),Ye=(e,t)=>({...Me(e),options:[e,t]}),Ge=(e,t)=>({...Be(e),options:[e,t]}),Ze=(e,t)=>({...$e(e),options:[e,t]}),Ke=(e,t)=>({...Ie(e),options:[e,t]}),Je=(e,t)=>({...Fe(e),options:[e,t]}),Qe=(e,t)=>({...Xe(e),options:[e,t]});var et=n.forwardRef(((e,t)=>{const{children:r,width:n=10,height:i=5,...o}=e;return(0,l.jsx)(p.svg,{...o,ref:t,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:(0,l.jsx)("polygon",{points:"0,0 30,0 15,10"})})}));et.displayName="Arrow";var tt=et;var rt="Popper",[nt,it]=c(rt),[ot,st]=nt(rt),at=e=>{const{__scopePopper:t,children:r}=e,[i,o]=n.useState(null);return(0,l.jsx)(ot,{scope:t,anchor:i,onAnchorChange:o,children:r})};at.displayName=rt;var lt="PopperAnchor",ct=n.forwardRef(((e,t)=>{const{__scopePopper:r,virtualRef:i,...o}=e,s=st(lt,r),c=n.useRef(null),u=(0,a.e)(t,c);return n.useEffect((()=>{s.onAnchorChange(i?.current||c.current)})),i?null:(0,l.jsx)(p.div,{...o,ref:u})}));ct.displayName=lt;var ut="PopperContent",[ht,dt]=nt(ut),pt=n.forwardRef(((e,t)=>{const{__scopePopper:r,side:i="bottom",sideOffset:o=0,align:s="center",alignOffset:c=0,arrowPadding:u=0,avoidCollisions:d=!0,collisionBoundary:g=[],collisionPadding:m=0,sticky:v="partial",hideWhenDetached:y=!1,updatePositionStrategy:w="optimized",onPlaced:x,...b}=e,C=st(ut,r),[E,R]=n.useState(null),j=(0,a.e)(t,(e=>R(e))),[S,k]=n.useState(null),A=function(e){const[t,r]=n.useState(void 0);return P((()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const t=new ResizeObserver((t=>{if(!Array.isArray(t))return;if(!t.length)return;const n=t[0];let i,o;if("borderBoxSize"in n){const e=n.borderBoxSize,t=Array.isArray(e)?e[0]:e;i=t.inlineSize,o=t.blockSize}else i=e.offsetWidth,o=e.offsetHeight;r({width:i,height:o})}));return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}r(void 0)}),[e]),t}(S),L=A?.width??0,O=A?.height??0,T=i+("center"!==s?"-"+s:""),D="number"==typeof m?m:{top:0,right:0,bottom:0,left:0,...m},N=Array.isArray(g)?g:[g],M=N.length>0,$={padding:D,boundary:N.filter(vt),altBoundary:M},{refs:I,floatingStyles:F,placement:H,isPositioned:B,middlewareData:V}=function(e){void 0===e&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:i=[],platform:o,elements:{reference:s,floating:a}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,p]=n.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[f,g]=n.useState(i);We(f,i)||g(i);const[m,v]=n.useState(null),[y,w]=n.useState(null),x=n.useCallback((e=>{e!==P.current&&(P.current=e,v(e))}),[]),b=n.useCallback((e=>{e!==R.current&&(R.current=e,w(e))}),[]),C=s||m,E=a||y,P=n.useRef(null),R=n.useRef(null),j=n.useRef(d),S=null!=c,k=qe(c),A=qe(o),L=qe(u),O=n.useCallback((()=>{if(!P.current||!R.current)return;const e={placement:t,strategy:r,middleware:f};A.current&&(e.platform=A.current),Ve(P.current,R.current,e).then((e=>{const t={...e,isPositioned:!1!==L.current};T.current&&!We(j.current,t)&&(j.current=t,h.flushSync((()=>{p(t)})))}))}),[f,t,r,A,L]);ze((()=>{!1===u&&j.current.isPositioned&&(j.current.isPositioned=!1,p((e=>({...e,isPositioned:!1}))))}),[u]);const T=n.useRef(!1);ze((()=>(T.current=!0,()=>{T.current=!1})),[]),ze((()=>{if(C&&(P.current=C),E&&(R.current=E),C&&E){if(k.current)return k.current(C,E,O);O()}}),[C,E,O,k,S]);const D=n.useMemo((()=>({reference:P,floating:R,setReference:x,setFloating:b})),[x,b]),N=n.useMemo((()=>({reference:C,floating:E})),[C,E]),M=n.useMemo((()=>{const e={position:r,left:0,top:0};if(!N.floating)return e;const t=Ue(N.floating,d.x),n=Ue(N.floating,d.y);return l?{...e,transform:"translate("+t+"px, "+n+"px)",..._e(N.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:t,top:n}}),[r,l,N.floating,d.x,d.y]);return n.useMemo((()=>({...d,update:O,refs:D,elements:N,floatingStyles:M})),[d,O,D,N,M])}({strategy:"fixed",placement:T,whileElementsMounted:(...e)=>De(...e,{animationFrame:"always"===w}),elements:{reference:C.anchor},middleware:[(z={mainAxis:o+O,alignmentAxis:c},{...Ne(z),options:[z,W]}),d&&Ye({mainAxis:!0,crossAxis:!1,limiter:"partial"===v?Ge():void 0,...$}),d&&Ze({...$}),Ke({...$,apply:({elements:e,rects:t,availableWidth:r,availableHeight:n})=>{const{width:i,height:o}=t.reference,s=e.floating.style;s.setProperty("--radix-popper-available-width",`${r}px`),s.setProperty("--radix-popper-available-height",`${n}px`),s.setProperty("--radix-popper-anchor-width",`${i}px`),s.setProperty("--radix-popper-anchor-height",`${o}px`)}}),S&&Qe({element:S,padding:u}),yt({arrowWidth:L,arrowHeight:O}),y&&Je({strategy:"referenceHidden",...$})]});var z,W;const[_,U]=wt(H),q=f(x);P((()=>{B&&q?.()}),[B,q]);const X=V.arrow?.x,Y=V.arrow?.y,G=0!==V.arrow?.centerOffset,[Z,K]=n.useState();return P((()=>{E&&K(window.getComputedStyle(E).zIndex)}),[E]),(0,l.jsx)("div",{ref:I.setFloating,"data-radix-popper-content-wrapper":"",style:{...F,transform:B?F.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Z,"--radix-popper-transform-origin":[V.transformOrigin?.x,V.transformOrigin?.y].join(" "),...V.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:(0,l.jsx)(ht,{scope:r,placedSide:_,onArrowChange:k,arrowX:X,arrowY:Y,shouldHideArrow:G,children:(0,l.jsx)(p.div,{"data-side":_,"data-align":U,...b,ref:j,style:{...b.style,animation:B?void 0:"none"}})})})}));pt.displayName=ut;var ft="PopperArrow",gt={top:"bottom",right:"left",bottom:"top",left:"right"},mt=n.forwardRef((function(e,t){const{__scopePopper:r,...n}=e,i=dt(ft,r),o=gt[i.placedSide];return(0,l.jsx)("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:(0,l.jsx)(tt,{...n,ref:t,style:{...n.style,display:"block"}})})}));function vt(e){return null!==e}mt.displayName=ft;var yt=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:n,middlewareData:i}=t,o=0!==i.arrow?.centerOffset,s=o?0:e.arrowWidth,a=o?0:e.arrowHeight,[l,c]=wt(r),u={start:"0%",center:"50%",end:"100%"}[c],h=(i.arrow?.x??0)+s/2,d=(i.arrow?.y??0)+a/2;let p="",f="";return"bottom"===l?(p=o?u:`${h}px`,f=-a+"px"):"top"===l?(p=o?u:`${h}px`,f=`${n.floating.height+a}px`):"right"===l?(p=-a+"px",f=o?u:`${d}px`):"left"===l&&(p=`${n.floating.width+a}px`,f=o?u:`${d}px`),{data:{x:p,y:f}}}});function wt(e){const[t,r="center"]=e.split("-");return[t,r]}var xt=at,bt=ct,Ct=pt,Et=mt,Pt=n.forwardRef(((e,t)=>{const{container:r,...i}=e,[o,s]=n.useState(!1);P((()=>s(!0)),[]);const a=r||o&&globalThis?.document?.body;return a?h.createPortal((0,l.jsx)(p.div,{...i,ref:t}),a):null}));Pt.displayName="Portal";var Rt=e=>{const{present:t,children:r}=e,i=function(e){const[t,r]=n.useState(),i=n.useRef({}),o=n.useRef(e),s=n.useRef("none"),a=e?"mounted":"unmounted",[l,c]=function(e,t){return n.useReducer(((e,r)=>t[e][r]??e),e)}(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return n.useEffect((()=>{const e=jt(i.current);s.current="mounted"===l?e:"none"}),[l]),P((()=>{const t=i.current,r=o.current;if(r!==e){const n=s.current,i=jt(t);if(e)c("MOUNT");else if("none"===i||"none"===t?.display)c("UNMOUNT");else{c(r&&n!==i?"ANIMATION_OUT":"UNMOUNT")}o.current=e}}),[e,c]),P((()=>{if(t){let e;const r=t.ownerDocument.defaultView??window,n=n=>{const s=jt(i.current).includes(n.animationName);if(n.target===t&&s&&(c("ANIMATION_END"),!o.current)){const n=t.style.animationFillMode;t.style.animationFillMode="forwards",e=r.setTimeout((()=>{"forwards"===t.style.animationFillMode&&(t.style.animationFillMode=n)}))}},a=e=>{e.target===t&&(s.current=jt(i.current))};return t.addEventListener("animationstart",a),t.addEventListener("animationcancel",n),t.addEventListener("animationend",n),()=>{r.clearTimeout(e),t.removeEventListener("animationstart",a),t.removeEventListener("animationcancel",n),t.removeEventListener("animationend",n)}}c("ANIMATION_END")}),[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:n.useCallback((e=>{e&&(i.current=getComputedStyle(e)),r(e)}),[])}}(t),o="function"==typeof r?r({present:i.isPresent}):n.Children.only(r),s=(0,a.e)(i.ref,function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;if(r)return e.ref;if(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r)return e.props.ref;return e.props.ref||e.ref}(o));return"function"==typeof r||i.isPresent?n.cloneElement(o,{ref:s}):null};function jt(e){return e?.animationName||"none"}function St({prop:e,defaultProp:t,onChange:r=(()=>{})}){const[i,o]=function({defaultProp:e,onChange:t}){const r=n.useState(e),[i]=r,o=n.useRef(i),s=f(t);return n.useEffect((()=>{o.current!==i&&(s(i),o.current=i)}),[i,o,s]),r}({defaultProp:t,onChange:r}),s=void 0!==e,a=s?e:i,l=f(r);return[a,n.useCallback((t=>{if(s){const r="function"==typeof t?t(e):t;r!==e&&l(r)}else o(t)}),[s,e,o,l])]}Rt.displayName="Presence";var kt=n.forwardRef(((e,t)=>(0,l.jsx)(p.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}})));kt.displayName="VisuallyHidden";var At=kt,[Lt,Ot]=c("Tooltip",[it]),Tt=it(),Dt="TooltipProvider",Nt=700,Mt="tooltip.open",[$t,It]=Lt(Dt),Ft=e=>{const{__scopeTooltip:t,delayDuration:r=Nt,skipDelayDuration:i=300,disableHoverableContent:o=!1,children:s}=e,[a,c]=n.useState(!0),u=n.useRef(!1),h=n.useRef(0);return n.useEffect((()=>{const e=h.current;return()=>window.clearTimeout(e)}),[]),(0,l.jsx)($t,{scope:t,isOpenDelayed:a,delayDuration:r,onOpen:n.useCallback((()=>{window.clearTimeout(h.current),c(!1)}),[]),onClose:n.useCallback((()=>{window.clearTimeout(h.current),h.current=window.setTimeout((()=>c(!0)),i)}),[i]),isPointerInTransitRef:u,onPointerInTransitChange:n.useCallback((e=>{u.current=e}),[]),disableHoverableContent:o,children:s})};Ft.displayName=Dt;var Ht="Tooltip",[Bt,Vt]=Lt(Ht),zt=e=>{const{__scopeTooltip:t,children:r,open:i,defaultOpen:o=!1,onOpenChange:s,disableHoverableContent:a,delayDuration:c}=e,u=It(Ht,e.__scopeTooltip),h=Tt(t),[d,p]=n.useState(null),f=function(e){const[t,r]=n.useState(R());return P((()=>{e||r((e=>e??String(j++)))}),[e]),e||(t?`radix-${t}`:"")}(),g=n.useRef(0),m=a??u.disableHoverableContent,v=c??u.delayDuration,y=n.useRef(!1),[w=!1,x]=St({prop:i,defaultProp:o,onChange:e=>{e?(u.onOpen(),document.dispatchEvent(new CustomEvent(Mt))):u.onClose(),s?.(e)}}),b=n.useMemo((()=>w?y.current?"delayed-open":"instant-open":"closed"),[w]),C=n.useCallback((()=>{window.clearTimeout(g.current),g.current=0,y.current=!1,x(!0)}),[x]),E=n.useCallback((()=>{window.clearTimeout(g.current),g.current=0,x(!1)}),[x]),S=n.useCallback((()=>{window.clearTimeout(g.current),g.current=window.setTimeout((()=>{y.current=!0,x(!0),g.current=0}),v)}),[v,x]);return n.useEffect((()=>()=>{g.current&&(window.clearTimeout(g.current),g.current=0)}),[]),(0,l.jsx)(xt,{...h,children:(0,l.jsx)(Bt,{scope:t,contentId:f,open:w,stateAttribute:b,trigger:d,onTriggerChange:p,onTriggerEnter:n.useCallback((()=>{u.isOpenDelayed?S():C()}),[u.isOpenDelayed,S,C]),onTriggerLeave:n.useCallback((()=>{m?E():(window.clearTimeout(g.current),g.current=0)}),[E,m]),onOpen:C,onClose:E,disableHoverableContent:m,children:r})})};zt.displayName=Ht;var Wt="TooltipTrigger",_t=n.forwardRef(((e,t)=>{const{__scopeTooltip:r,...i}=e,o=Vt(Wt,r),c=It(Wt,r),u=Tt(r),h=n.useRef(null),d=(0,a.e)(t,h,o.onTriggerChange),f=n.useRef(!1),g=n.useRef(!1),m=n.useCallback((()=>f.current=!1),[]);return n.useEffect((()=>()=>document.removeEventListener("pointerup",m)),[m]),(0,l.jsx)(bt,{asChild:!0,...u,children:(0,l.jsx)(p.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...i,ref:d,onPointerMove:s(e.onPointerMove,(e=>{"touch"!==e.pointerType&&(g.current||c.isPointerInTransitRef.current||(o.onTriggerEnter(),g.current=!0))})),onPointerLeave:s(e.onPointerLeave,(()=>{o.onTriggerLeave(),g.current=!1})),onPointerDown:s(e.onPointerDown,(()=>{f.current=!0,document.addEventListener("pointerup",m,{once:!0})})),onFocus:s(e.onFocus,(()=>{f.current||o.onOpen()})),onBlur:s(e.onBlur,o.onClose),onClick:s(e.onClick,o.onClose)})})}));_t.displayName=Wt;var Ut="TooltipPortal",[qt,Xt]=Lt(Ut,{forceMount:void 0}),Yt=e=>{const{__scopeTooltip:t,forceMount:r,children:n,container:i}=e,o=Vt(Ut,t);return(0,l.jsx)(qt,{scope:t,forceMount:r,children:(0,l.jsx)(Rt,{present:r||o.open,children:(0,l.jsx)(Pt,{asChild:!0,container:i,children:n})})})};Yt.displayName=Ut;var Gt="TooltipContent",Zt=n.forwardRef(((e,t)=>{const r=Xt(Gt,e.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...o}=e,s=Vt(Gt,e.__scopeTooltip);return(0,l.jsx)(Rt,{present:n||s.open,children:s.disableHoverableContent?(0,l.jsx)(er,{side:i,...o,ref:t}):(0,l.jsx)(Kt,{side:i,...o,ref:t})})})),Kt=n.forwardRef(((e,t)=>{const r=Vt(Gt,e.__scopeTooltip),i=It(Gt,e.__scopeTooltip),o=n.useRef(null),s=(0,a.e)(t,o),[c,u]=n.useState(null),{trigger:h,onClose:d}=r,p=o.current,{onPointerInTransitChange:f}=i,g=n.useCallback((()=>{u(null),f(!1)}),[f]),m=n.useCallback(((e,t)=>{const r=e.currentTarget,n={x:e.clientX,y:e.clientY},i=function(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r})}return n}(n,function(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(r,n,i,o)){case o:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}(n,r.getBoundingClientRect())),o=function(e){const t=e.slice();return t.sort(((e,t)=>e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:e.y>t.y?1:0)),function(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const r=e[n];for(;t.length>=2;){const e=t[t.length-1],n=t[t.length-2];if(!((e.x-n.x)*(r.y-n.y)>=(e.y-n.y)*(r.x-n.x)))break;t.pop()}t.push(r)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const t=e[n];for(;r.length>=2;){const e=r[r.length-1],n=r[r.length-2];if(!((e.x-n.x)*(t.y-n.y)>=(e.y-n.y)*(t.x-n.x)))break;r.pop()}r.push(t)}return r.pop(),1===t.length&&1===r.length&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}(t)}([...i,...function(e){const{top:t,right:r,bottom:n,left:i}=e;return[{x:i,y:t},{x:r,y:t},{x:r,y:n},{x:i,y:n}]}(t.getBoundingClientRect())]);u(o),f(!0)}),[f]);return n.useEffect((()=>()=>g()),[g]),n.useEffect((()=>{if(h&&p){const e=e=>m(e,p),t=e=>m(e,h);return h.addEventListener("pointerleave",e),p.addEventListener("pointerleave",t),()=>{h.removeEventListener("pointerleave",e),p.removeEventListener("pointerleave",t)}}}),[h,p,m,g]),n.useEffect((()=>{if(c){const e=e=>{const t=e.target,r={x:e.clientX,y:e.clientY},n=h?.contains(t)||p?.contains(t),i=!function(e,t){const{x:r,y:n}=e;let i=!1;for(let o=0,s=t.length-1;o<t.length;s=o++){const e=t[o].x,a=t[o].y,l=t[s].x,c=t[s].y;a>n!=c>n&&r<(l-e)*(n-a)/(c-a)+e&&(i=!i)}return i}(r,c);n?g():i&&(g(),d())};return document.addEventListener("pointermove",e),()=>document.removeEventListener("pointermove",e)}}),[h,p,c,d,g]),(0,l.jsx)(er,{...e,ref:s})})),[Jt,Qt]=Lt(Ht,{isInside:!1}),er=n.forwardRef(((e,t)=>{const{__scopeTooltip:r,children:i,"aria-label":o,onEscapeKeyDown:s,onPointerDownOutside:a,...c}=e,u=Vt(Gt,r),h=Tt(r),{onClose:p}=u;return n.useEffect((()=>(document.addEventListener(Mt,p),()=>document.removeEventListener(Mt,p))),[p]),n.useEffect((()=>{if(u.trigger){const e=e=>{const t=e.target;t?.contains(u.trigger)&&p()};return window.addEventListener("scroll",e,{capture:!0}),()=>window.removeEventListener("scroll",e,{capture:!0})}}),[u.trigger,p]),(0,l.jsx)(x,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:e=>e.preventDefault(),onDismiss:p,children:(0,l.jsxs)(Ct,{"data-state":u.stateAttribute,...h,...c,ref:t,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[(0,l.jsx)(d.A4,{children:i}),(0,l.jsx)(Jt,{scope:r,isInside:!0,children:(0,l.jsx)(At,{id:u.contentId,role:"tooltip",children:o||i})})]})})}));Zt.displayName=Gt;var tr="TooltipArrow",rr=n.forwardRef(((e,t)=>{const{__scopeTooltip:r,...n}=e,i=Tt(r);return Qt(tr,r).isInside?null:(0,l.jsx)(Et,{...i,...n,ref:t})}));rr.displayName=tr;var nr=Ft,ir=n.createContext(void 0);var or=e=>{const{dir:t,children:r}=e;return(0,l.jsx)(ir.Provider,{value:t,children:r})};var sr=r(407),ar=r(582);const lr=["none","small","medium","large","full"],cr={...sr.C,hasBackground:{type:"boolean",default:!0},appearance:{type:"enum",values:["inherit","light","dark"],default:"inherit"},accentColor:{type:"enum",values:ar.FN,default:"indigo"},grayColor:{type:"enum",values:ar.ab,default:"auto"},panelBackground:{type:"enum",values:["solid","translucent"],default:"translucent"},radius:{type:"enum",values:lr,default:"medium"},scaling:{type:"enum",values:["90%","95%","100%","105%","110%"],default:"100%"}},ur=()=>{},hr=n.createContext(void 0);const dr=n.forwardRef(((e,t)=>void 0===n.useContext(hr)?n.createElement(nr,{delayDuration:200},n.createElement(or,{dir:"ltr"},n.createElement(pr,{...e,ref:t}))):n.createElement(fr,{...e,ref:t})));dr.displayName="Theme";const pr=n.forwardRef(((e,t)=>{const{appearance:r=cr.appearance.default,accentColor:i=cr.accentColor.default,grayColor:o=cr.grayColor.default,panelBackground:s=cr.panelBackground.default,radius:a=cr.radius.default,scaling:l=cr.scaling.default,hasBackground:c=cr.hasBackground.default,...u}=e,[h,d]=n.useState(r);n.useEffect((()=>d(r)),[r]);const[p,f]=n.useState(i);n.useEffect((()=>f(i)),[i]);const[g,m]=n.useState(o);n.useEffect((()=>m(o)),[o]);const[v,y]=n.useState(s);n.useEffect((()=>y(s)),[s]);const[w,x]=n.useState(a);n.useEffect((()=>x(a)),[a]);const[b,C]=n.useState(l);return n.useEffect((()=>C(l)),[l]),n.createElement(fr,{...u,ref:t,isRoot:!0,hasBackground:c,appearance:h,accentColor:p,grayColor:g,panelBackground:v,radius:w,scaling:b,onAppearanceChange:d,onAccentColorChange:f,onGrayColorChange:m,onPanelBackgroundChange:y,onRadiusChange:x,onScalingChange:C})}));pr.displayName="ThemeRoot";const fr=n.forwardRef(((e,t)=>{const r=n.useContext(hr),{asChild:i,isRoot:s,hasBackground:a,appearance:l=r?.appearance??cr.appearance.default,accentColor:c=r?.accentColor??cr.accentColor.default,grayColor:u=r?.resolvedGrayColor??cr.grayColor.default,panelBackground:h=r?.panelBackground??cr.panelBackground.default,radius:p=r?.radius??cr.radius.default,scaling:f=r?.scaling??cr.scaling.default,onAppearanceChange:g=ur,onAccentColorChange:m=ur,onGrayColorChange:v=ur,onPanelBackgroundChange:y=ur,onRadiusChange:w=ur,onScalingChange:x=ur,...b}=e,C=i?d.fC:"div",E="auto"===u?function(e){switch(e){case"tomato":case"red":case"ruby":case"crimson":case"pink":case"plum":case"purple":case"violet":return"mauve";case"iris":case"indigo":case"blue":case"sky":case"cyan":return"slate";case"teal":case"jade":case"mint":case"green":return"sage";case"grass":case"lime":return"olive";case"yellow":case"amber":case"orange":case"brown":case"gold":case"bronze":return"sand";case"gray":return"gray"}}(c):u,P="light"===e.appearance||"dark"===e.appearance,R=void 0===a?s||P:a;return n.createElement(hr.Provider,{value:n.useMemo((()=>({appearance:l,accentColor:c,grayColor:u,resolvedGrayColor:E,panelBackground:h,radius:p,scaling:f,onAppearanceChange:g,onAccentColorChange:m,onGrayColorChange:v,onPanelBackgroundChange:y,onRadiusChange:w,onScalingChange:x})),[l,c,u,E,h,p,f,g,m,v,y,w,x])},n.createElement(C,{"data-is-root-theme":s?"true":"false","data-accent-color":c,"data-gray-color":E,"data-has-background":R?"true":"false","data-panel-background":h,"data-radius":p,"data-scaling":f,ref:t,...b,className:o("radix-themes",{light:"light"===l,dark:"dark"===l},b.className)}))}));fr.displayName="ThemeImpl"},3928:function(e,t,r){"use strict";r.d(t,{y:function(){return h}});var n=r(3967);const i=["initial","xs","sm","md","lg","xl"];function o(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function s(e){return"object"==typeof e&&Object.keys(e).some((e=>i.includes(e)))}function a({className:e,customProperties:t,...r}){const n=l({allowArbitraryValues:!0,className:e,...r}),a=function({customProperties:e,value:t,propValues:r,parseValue:n=(e=>e)}){let a={};if(t&&("string"!=typeof t||!r.includes(t))){if("string"==typeof t&&(a=Object.fromEntries(e.map((e=>[e,t])))),s(t)){const n=t;for(const t in n){if(!o(n,t)||!i.includes(t))continue;const s=n[t];if(!r.includes(s))for(const r of e)a={["initial"===t?r:`${r}-${t}`]:s,...a}}}for(const e in a){const t=a[e];void 0!==t&&(a[e]=n(t))}return a}}({customProperties:t,...r});return[n,a]}function l({allowArbitraryValues:e,value:t,className:r,propValues:n,parseValue:a=(e=>e)}){const l=[];if(t){if("string"==typeof t&&n.includes(t))return c(r,t,a);if(s(t)){const s=t;for(const t in s){if(!o(s,t)||!i.includes(t))continue;const u=s[t];if(void 0!==u)if(n.includes(u)){const e=c(r,u,a),n="initial"===t?e:`${t}:${e}`;l.push(n)}else if(e){const e="initial"===t?r:`${t}:${r}`;l.push(e)}}return l.join(" ")}if(e)return r}}function c(e,t,r){const n=e?"-":"",i=r(t),o=i?.startsWith("-");return`${o?"-":""}${e}${n}${o?i?.substring(1):i}`}function u(...e){let t={};for(const r of e)r&&(t={...t,...r});return Object.keys(t).length?t:void 0}function h(e,...t){let r,i;const o={...e},c=function(...e){return Object.assign({},...e)}(...t);for(const h in c){let e=o[h];const t=c[h];if(void 0!==t.default&&void 0===e&&(e=t.default),"enum"===t.type&&![t.default,...t.values].includes(e)&&!s(e)&&(e=t.default),o[h]=e,"className"in t&&t.className){delete o[h];const c="responsive"in t;if(!e||s(e)&&!c)continue;if(s(e)&&(void 0!==t.default&&void 0===e.initial&&(e.initial=t.default),"enum"===t.type&&([t.default,...t.values].includes(e.initial)||(e.initial=t.default))),"enum"===t.type){const i=l({allowArbitraryValues:!1,value:e,className:t.className,propValues:t.values,parseValue:t.parseValue});r=n(r,i);continue}if("string"===t.type||"enum | string"===t.type){const o="string"===t.type?[]:t.values,[s,l]=a({className:t.className,customProperties:t.customProperties,propValues:o,parseValue:t.parseValue,value:e});i=u(i,l),r=n(r,s);continue}if("boolean"===t.type&&e){r=n(r,t.className);continue}}}return o.className=n(r,e.className),o.style=u(i,e.style),o}},407:function(e,t,r){"use strict";r.d(t,{C:function(){return n}});const n={asChild:{type:"boolean"}}},582:function(e,t,r){"use strict";r.d(t,{EG:function(){return o},FN:function(){return n},ab:function(){return i}});const n=["gray","gold","bronze","brown","yellow","amber","orange","tomato","red","ruby","crimson","pink","plum","purple","violet","iris","indigo","blue","cyan","teal","jade","green","grass","lime","mint","sky"],i=["auto","gray","mauve","slate","sage","olive","sand"],o={color:{type:"enum",values:n,default:void 0}}},339:function(e,t,r){"use strict";r.d(t,{P:function(){return s}});const n=["0","1","2","3","4","5","6","7","8","9"],i=["visible","hidden","clip","scroll","auto"],o=["0","1","2","3","4","5","6","7","8","9","-1","-2","-3","-4","-5","-6","-7","-8","-9"],s={...{p:{type:"enum | string",className:"rt-r-p",customProperties:["--p"],values:n,responsive:!0},px:{type:"enum | string",className:"rt-r-px",customProperties:["--pl","--pr"],values:n,responsive:!0},py:{type:"enum | string",className:"rt-r-py",customProperties:["--pt","--pb"],values:n,responsive:!0},pt:{type:"enum | string",className:"rt-r-pt",customProperties:["--pt"],values:n,responsive:!0},pr:{type:"enum | string",className:"rt-r-pr",customProperties:["--pr"],values:n,responsive:!0},pb:{type:"enum | string",className:"rt-r-pb",customProperties:["--pb"],values:n,responsive:!0},pl:{type:"enum | string",className:"rt-r-pl",customProperties:["--pl"],values:n,responsive:!0}},width:{type:"string",className:"rt-r-w",customProperties:["--width"],responsive:!0},minWidth:{type:"string",className:"rt-r-min-w",customProperties:["--min-width"],responsive:!0},maxWidth:{type:"string",className:"rt-r-max-w",customProperties:["--max-width"],responsive:!0},height:{type:"string",className:"rt-r-h",customProperties:["--height"],responsive:!0},minHeight:{type:"string",className:"rt-r-min-h",customProperties:["--min-height"],responsive:!0},maxHeight:{type:"string",className:"rt-r-max-h",customProperties:["--max-height"],responsive:!0},position:{type:"enum",className:"rt-r-position",values:["static","relative","absolute","fixed","sticky"],responsive:!0},inset:{type:"enum | string",className:"rt-r-inset",customProperties:["--inset"],values:o,responsive:!0},top:{type:"enum | string",className:"rt-r-top",customProperties:["--top"],values:o,responsive:!0},right:{type:"enum | string",className:"rt-r-right",customProperties:["--right"],values:o,responsive:!0},bottom:{type:"enum | string",className:"rt-r-bottom",customProperties:["--bottom"],values:o,responsive:!0},left:{type:"enum | string",className:"rt-r-left",customProperties:["--left"],values:o,responsive:!0},overflow:{type:"enum",className:"rt-r-overflow",values:i,responsive:!0},overflowX:{type:"enum",className:"rt-r-ox",values:i,responsive:!0},overflowY:{type:"enum",className:"rt-r-oy",values:i,responsive:!0},flexBasis:{type:"string",className:"rt-r-fb",customProperties:["--flex-basis"],responsive:!0},flexShrink:{type:"enum | string",className:"rt-r-fs",customProperties:["--flex-shrink"],values:["0","1"],responsive:!0},flexGrow:{type:"enum | string",className:"rt-r-fg",customProperties:["--flex-grow"],values:["0","1"],responsive:!0},gridArea:{type:"string",className:"rt-r-ga",customProperties:["--grid-area"],responsive:!0},gridColumn:{type:"string",className:"rt-r-gc",customProperties:["--grid-column"],responsive:!0},gridColumnStart:{type:"string",className:"rt-r-gcs",customProperties:["--grid-column-start"],responsive:!0},gridColumnEnd:{type:"string",className:"rt-r-gce",customProperties:["--grid-column-end"],responsive:!0},gridRow:{type:"string",className:"rt-r-gr",customProperties:["--grid-row"],responsive:!0},gridRowStart:{type:"string",className:"rt-r-grs",customProperties:["--grid-row-start"],responsive:!0},gridRowEnd:{type:"string",className:"rt-r-gre",customProperties:["--grid-row-end"],responsive:!0}}},5638:function(e,t,r){"use strict";r.d(t,{E:function(){return i}});const n=["0","1","2","3","4","5","6","7","8","9","-1","-2","-3","-4","-5","-6","-7","-8","-9"],i={m:{type:"enum | string",values:n,responsive:!0,className:"rt-r-m",customProperties:["--m"]},mx:{type:"enum | string",values:n,responsive:!0,className:"rt-r-mx",customProperties:["--ml","--mr"]},my:{type:"enum | string",values:n,responsive:!0,className:"rt-r-my",customProperties:["--mt","--mb"]},mt:{type:"enum | string",values:n,responsive:!0,className:"rt-r-mt",customProperties:["--mt"]},mr:{type:"enum | string",values:n,responsive:!0,className:"rt-r-mr",customProperties:["--mr"]},mb:{type:"enum | string",values:n,responsive:!0,className:"rt-r-mb",customProperties:["--mb"]},ml:{type:"enum | string",values:n,responsive:!0,className:"rt-r-ml",customProperties:["--ml"]}}}}]);
//# sourceMappingURL=commons-dfcc403731aa87a79d64.js.map